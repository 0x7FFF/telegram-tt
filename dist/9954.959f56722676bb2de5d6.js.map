{"version":3,"file":"9954.959f56722676bb2de5d6.js","mappings":"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MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KAAQ,MAAQ,KAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,KAAQ,MAAQ,MAAQ,KAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,KACxF,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,M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","sources":["webpack://telegram-t/./src/global/actions/api/calls.async.ts","webpack://telegram-t/./src/util/phoneCallEmojiConstants.ts","webpack://telegram-t/./src/global/actions/apiUpdaters/calls.async.ts","webpack://telegram-t/./src/util/vibrate.ts","webpack://telegram-t/./src/components/calls/group/MicrophoneButton.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantMenu.tsx","webpack://telegram-t/./src/hooks/useThrottledCallback.ts","webpack://telegram-t/./src/hooks/useRunThrottled.ts","webpack://telegram-t/./src/components/calls/group/OutlinedMicrophoneIcon.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipant.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantList.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantVideo.tsx","webpack://telegram-t/./src/components/calls/group/GroupCallParticipantStreams.tsx","webpack://telegram-t/./src/components/calls/group/GroupCall.tsx","webpack://telegram-t/./src/components/calls/ActiveCallHeader.tsx","webpack://telegram-t/./src/components/calls/phone/PhoneCallButton.module.scss?9dea","webpack://telegram-t/./src/components/calls/phone/PhoneCallButton.tsx","webpack://telegram-t/./src/components/calls/phone/PhoneCall.module.scss?a250","webpack://telegram-t/./src/components/calls/phone/PhoneCall.tsx","webpack://telegram-t/./src/components/calls/phone/RatePhoneCallModal.module.scss?64f6","webpack://telegram-t/./src/components/calls/phone/RatePhoneCallModal.tsx","webpack://telegram-t/./src/lib/secret-sauce/index.js"],"sourcesContent":["import { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  joinGroupCall,\n  startSharingScreen,\n  leaveGroupCall,\n  toggleStream,\n  isStreamEnabled,\n  setVolume, stopPhoneCall,\n} from '../../../lib/secret-sauce';\n\nimport type { ActionReturnType } from '../../types';\n\nimport { GROUP_CALL_VOLUME_MULTIPLIER } from '../../../config';\nimport { callApi } from '../../../api/gramjs';\nimport { selectChat, selectTabState, selectUser } from '../../selectors';\nimport {\n  selectActiveGroupCall, selectPhoneCallUser,\n} from '../../selectors/calls';\nimport {\n  removeGroupCall,\n  updateActiveGroupCall,\n} from '../../reducers/calls';\nimport { getGroupCallAudioContext, getGroupCallAudioElement, removeGroupCallAudioElement } from '../ui/calls';\nimport { loadFullChat } from './chats';\nimport { addUsers } from '../../reducers';\nimport { buildCollectionByKey } from '../../../util/iteratees';\nimport { updateTabState } from '../../reducers/tabs';\nimport { getCurrentTabId } from '../../../util/establishMultitabRole';\n\nconst HANG_UP_UI_DELAY = 500;\n\naddActionHandler('leaveGroupCall', async (global, actions, payload): Promise<void> => {\n  const {\n    isFromLibrary, shouldDiscard, shouldRemove, rejoin,\n    tabId = getCurrentTabId(),\n  } = payload || {};\n  const groupCall = selectActiveGroupCall(global);\n  if (!groupCall) {\n    return;\n  }\n\n  global = updateActiveGroupCall(global, { connectionState: 'disconnected' }, groupCall.participantsCount - 1);\n  setGlobal(global);\n\n  await callApi('leaveGroupCall', {\n    call: groupCall,\n  });\n\n  if (shouldDiscard) {\n    await callApi('discardGroupCall', {\n      call: groupCall,\n    });\n  }\n\n  global = getGlobal();\n  if (shouldRemove) {\n    global = removeGroupCall(global, groupCall.id);\n  }\n\n  removeGroupCallAudioElement();\n\n  global = {\n    ...global,\n    groupCalls: {\n      ...global.groupCalls,\n      activeGroupCallId: undefined,\n    },\n  };\n  setGlobal(global);\n\n  actions.toggleGroupCallPanel({ force: undefined, tabId });\n\n  if (!isFromLibrary) {\n    leaveGroupCall();\n  }\n\n  actions.afterHangUp();\n\n  if (rejoin) {\n    actions.requestMasterAndJoinGroupCall({\n      ...rejoin,\n      tabId,\n    });\n  }\n});\n\naddActionHandler('toggleGroupCallVideo', async (global): Promise<void> => {\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  await toggleStream('video');\n\n  await callApi('editGroupCallParticipant', {\n    call: groupCall,\n    videoStopped: !isStreamEnabled('video'),\n    participant: user,\n  });\n});\n\naddActionHandler('requestToSpeak', (global, actions, payload): ActionReturnType => {\n  const { value } = payload || { value: true };\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  void callApi('editGroupCallParticipant', {\n    call: groupCall,\n    raiseHand: value,\n    participant: user,\n  });\n});\n\naddActionHandler('setGroupCallParticipantVolume', (global, actions, payload): ActionReturnType => {\n  const { participantId, volume } = payload!;\n\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, participantId);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  setVolume(participantId, Math.floor(volume / GROUP_CALL_VOLUME_MULTIPLIER) / 100);\n\n  void callApi('editGroupCallParticipant', {\n    call: groupCall,\n    volume: Number(volume),\n    participant: user,\n  });\n});\n\naddActionHandler('toggleGroupCallMute', async (global, actions, payload): Promise<void> => {\n  const { participantId, value } = payload || {};\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, participantId || global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  const muted = value === undefined ? isStreamEnabled('audio', user.id) : value;\n\n  if (!participantId) {\n    await toggleStream('audio');\n  } else {\n    setVolume(participantId, muted ? 0 : 1);\n  }\n\n  await callApi('editGroupCallParticipant', {\n    call: groupCall,\n    muted,\n    participant: user,\n  });\n});\n\naddActionHandler('toggleGroupCallPresentation', async (global, actions, payload): Promise<void> => {\n  const groupCall = selectActiveGroupCall(global);\n  const user = selectUser(global, global.currentUserId!);\n  if (!user || !groupCall) {\n    return;\n  }\n\n  const value = payload?.value !== undefined ? payload?.value : !isStreamEnabled('presentation');\n  if (value) {\n    const params = await startSharingScreen();\n    if (!params) {\n      return;\n    }\n\n    await callApi('joinGroupCallPresentation', {\n      call: groupCall,\n      params,\n    });\n  } else {\n    await toggleStream('presentation', false);\n    await callApi('leaveGroupCallPresentation', {\n      call: groupCall,\n    });\n  }\n\n  await callApi('editGroupCallParticipant', {\n    call: groupCall,\n    presentationPaused: !isStreamEnabled('presentation'),\n    participant: user,\n  });\n});\n\naddActionHandler('connectToActiveGroupCall', async (global, actions, payload): Promise<void> => {\n  const { tabId = getCurrentTabId() } = payload || {};\n  const groupCall = selectActiveGroupCall(global);\n  if (!groupCall) return;\n\n  if (groupCall.connectionState === 'discarded') {\n    actions.showNotification({ message: 'This voice chat is not active', tabId });\n    return;\n  }\n\n  const audioElement = getGroupCallAudioElement();\n  const audioContext = getGroupCallAudioContext();\n\n  if (!audioElement || !audioContext) {\n    return;\n  }\n\n  const {\n    currentUserId,\n  } = global;\n\n  if (!currentUserId) return;\n\n  const params = await joinGroupCall(currentUserId, audioContext, audioElement, actions.apiUpdate);\n\n  const result = await callApi('joinGroupCall', {\n    call: groupCall,\n    params,\n    inviteHash: groupCall.inviteHash,\n  });\n\n  global = getGlobal();\n\n  if (!result) return;\n\n  actions.loadMoreGroupCallParticipants();\n\n  if (groupCall.chatId) {\n    global = getGlobal();\n    const chat = selectChat(global, groupCall.chatId);\n    if (!chat) return;\n    await loadFullChat(global, actions, chat, tabId);\n  }\n});\n\naddActionHandler('connectToActivePhoneCall', async (global, actions): Promise<void> => {\n  const { phoneCall } = global;\n\n  if (!phoneCall) return;\n\n  const user = selectPhoneCallUser(global);\n\n  if (!user) return;\n\n  const dhConfig = await callApi('getDhConfig');\n\n  if (!dhConfig) return;\n\n  await callApi('createPhoneCallState', [true]);\n\n  const gAHash = await callApi('requestPhoneCall', [dhConfig])!;\n\n  const result = await callApi('requestCall', { user, gAHash, isVideo: phoneCall.isVideo });\n\n  if (!result) {\n    actions.hangUp({ tabId: getCurrentTabId() });\n    return;\n  }\n  global = getGlobal();\n  global = addUsers(global, buildCollectionByKey(result.users, 'id'));\n  setGlobal(global);\n});\n\naddActionHandler('acceptCall', async (global): Promise<void> => {\n  const { phoneCall } = global;\n\n  if (!phoneCall) return;\n\n  const dhConfig = await callApi('getDhConfig');\n  if (!dhConfig) return;\n\n  await callApi('createPhoneCallState', [false]);\n\n  const gB = await callApi('acceptPhoneCall', [dhConfig])!;\n  const result = await callApi('acceptCall', { call: phoneCall, gB });\n  if (!result) {\n    return;\n  }\n  global = getGlobal();\n  global = addUsers(global, buildCollectionByKey(result.users, 'id'));\n  setGlobal(global);\n});\n\naddActionHandler('sendSignalingData', (global, actions, payload): ActionReturnType => {\n  const { phoneCall } = global;\n  if (!phoneCall) {\n    return;\n  }\n\n  const data = JSON.stringify(payload);\n\n  (async () => {\n    const encodedData = await callApi('encodePhoneCallData', [data]);\n\n    if (!encodedData) return;\n\n    callApi('sendSignalingData', { data: encodedData, call: phoneCall });\n  })();\n});\n\naddActionHandler('closeCallRatingModal', (global, actions, payload): ActionReturnType => {\n  const { tabId = getCurrentTabId() } = payload || {};\n  return updateTabState(global, {\n    ratingPhoneCall: undefined,\n  }, tabId);\n});\n\naddActionHandler('setCallRating', (global, actions, payload): ActionReturnType => {\n  const { rating, comment, tabId = getCurrentTabId() } = payload;\n\n  const { ratingPhoneCall } = selectTabState(global, tabId);\n  if (!ratingPhoneCall) {\n    return undefined;\n  }\n\n  callApi('setCallRating', { call: ratingPhoneCall, rating, comment });\n\n  return updateTabState(global, {\n    ratingPhoneCall: undefined,\n  }, tabId);\n});\n\naddActionHandler('hangUp', (global, actions, payload): ActionReturnType => {\n  const { tabId = getCurrentTabId() } = payload || {};\n  const { phoneCall } = global;\n\n  if (!phoneCall) return undefined;\n\n  if (phoneCall.state === 'discarded') {\n    callApi('destroyPhoneCallState');\n    stopPhoneCall();\n\n    global = {\n      ...global,\n      phoneCall: undefined,\n    };\n    setGlobal(global);\n    actions.toggleGroupCallPanel({ force: undefined, tabId });\n\n    actions.afterHangUp();\n\n    return undefined;\n  }\n\n  callApi('destroyPhoneCallState');\n  stopPhoneCall();\n  callApi('discardCall', { call: phoneCall });\n\n  if (phoneCall.state === 'requesting') {\n    global = {\n      ...global,\n      phoneCall: undefined,\n    };\n    setGlobal(global);\n    actions.toggleGroupCallPanel({ force: undefined, tabId });\n\n    actions.afterHangUp();\n\n    return undefined;\n  }\n\n  setTimeout(() => {\n    global = getGlobal();\n    global = {\n      ...global,\n      phoneCall: undefined,\n    };\n    setGlobal(global);\n\n    actions.toggleGroupCallPanel({ force: undefined, tabId });\n    actions.afterHangUp();\n  }, HANG_UP_UI_DELAY);\n\n  return undefined;\n});\n","export const EMOJI_DATA = new Uint16Array([\n  0xd83d, 0xde09, 0xd83d, 0xde0d, 0xd83d, 0xde1b, 0xd83d, 0xde2d, 0xd83d, 0xde31, 0xd83d, 0xde21,\n  0xd83d, 0xde0e, 0xd83d, 0xde34, 0xd83d, 0xde35, 0xd83d, 0xde08, 0xd83d, 0xde2c, 0xd83d, 0xde07,\n  0xd83d, 0xde0f, 0xd83d, 0xdc6e, 0xd83d, 0xdc77, 0xd83d, 0xdc82, 0xd83d, 0xdc76, 0xd83d, 0xdc68,\n  0xd83d, 0xdc69, 0xd83d, 0xdc74, 0xd83d, 0xdc75, 0xd83d, 0xde3b, 0xd83d, 0xde3d, 0xd83d, 0xde40,\n  0xd83d, 0xdc7a, 0xd83d, 0xde48, 0xd83d, 0xde49, 0xd83d, 0xde4a, 0xd83d, 0xdc80, 0xd83d, 0xdc7d,\n  0xd83d, 0xdca9, 0xd83d, 0xdd25, 0xd83d, 0xdca5, 0xd83d, 0xdca4, 0xd83d, 0xdc42, 0xd83d, 0xdc40,\n  0xd83d, 0xdc43, 0xd83d, 0xdc45, 0xd83d, 0xdc44, 0xd83d, 0xdc4d, 0xd83d, 0xdc4e, 0xd83d, 0xdc4c,\n  0xd83d, 0xdc4a, 0x270c, 0x270b, 0xd83d, 0xdc50, 0xd83d, 0xdc46, 0xd83d, 0xdc47, 0xd83d, 0xdc49,\n  0xd83d, 0xdc48, 0xd83d, 0xde4f, 0xd83d, 0xdc4f, 0xd83d, 0xdcaa, 0xd83d, 0xdeb6, 0xd83c, 0xdfc3,\n  0xd83d, 0xdc83, 0xd83d, 0xdc6b, 0xd83d, 0xdc6a, 0xd83d, 0xdc6c, 0xd83d, 0xdc6d, 0xd83d, 0xdc85,\n  0xd83c, 0xdfa9, 0xd83d, 0xdc51, 0xd83d, 0xdc52, 0xd83d, 0xdc5f, 0xd83d, 0xdc5e, 0xd83d, 0xdc60,\n  0xd83d, 0xdc55, 0xd83d, 0xdc57, 0xd83d, 0xdc56, 0xd83d, 0xdc59, 0xd83d, 0xdc5c, 0xd83d, 0xdc53,\n  0xd83c, 0xdf80, 0xd83d, 0xdc84, 0xd83d, 0xdc9b, 0xd83d, 0xdc99, 0xd83d, 0xdc9c, 0xd83d, 0xdc9a,\n  0xd83d, 0xdc8d, 0xd83d, 0xdc8e, 0xd83d, 0xdc36, 0xd83d, 0xdc3a, 0xd83d, 0xdc31, 0xd83d, 0xdc2d,\n  0xd83d, 0xdc39, 0xd83d, 0xdc30, 0xd83d, 0xdc38, 0xd83d, 0xdc2f, 0xd83d, 0xdc28, 0xd83d, 0xdc3b,\n  0xd83d, 0xdc37, 0xd83d, 0xdc2e, 0xd83d, 0xdc17, 0xd83d, 0xdc34, 0xd83d, 0xdc11, 0xd83d, 0xdc18,\n  0xd83d, 0xdc3c, 0xd83d, 0xdc27, 0xd83d, 0xdc25, 0xd83d, 0xdc14, 0xd83d, 0xdc0d, 0xd83d, 0xdc22,\n  0xd83d, 0xdc1b, 0xd83d, 0xdc1d, 0xd83d, 0xdc1c, 0xd83d, 0xdc1e, 0xd83d, 0xdc0c, 0xd83d, 0xdc19,\n  0xd83d, 0xdc1a, 0xd83d, 0xdc1f, 0xd83d, 0xdc2c, 0xd83d, 0xdc0b, 0xd83d, 0xdc10, 0xd83d, 0xdc0a,\n  0xd83d, 0xdc2b, 0xd83c, 0xdf40, 0xd83c, 0xdf39, 0xd83c, 0xdf3b, 0xd83c, 0xdf41, 0xd83c, 0xdf3e,\n  0xd83c, 0xdf44, 0xd83c, 0xdf35, 0xd83c, 0xdf34, 0xd83c, 0xdf33, 0xd83c, 0xdf1e, 0xd83c, 0xdf1a,\n  0xd83c, 0xdf19, 0xd83c, 0xdf0e, 0xd83c, 0xdf0b, 0x26a1, 0x2614, 0x2744, 0x26c4, 0xd83c, 0xdf00,\n  0xd83c, 0xdf08, 0xd83c, 0xdf0a, 0xd83c, 0xdf93, 0xd83c, 0xdf86, 0xd83c, 0xdf83, 0xd83d, 0xdc7b,\n  0xd83c, 0xdf85, 0xd83c, 0xdf84, 0xd83c, 0xdf81, 0xd83c, 0xdf88, 0xd83d, 0xdd2e, 0xd83c, 0xdfa5,\n  0xd83d, 0xdcf7, 0xd83d, 0xdcbf, 0xd83d, 0xdcbb, 0x260e, 0xd83d, 0xdce1, 0xd83d, 0xdcfa, 0xd83d,\n  0xdcfb, 0xd83d, 0xdd09, 0xd83d, 0xdd14, 0x23f3, 0x23f0, 0x231a, 0xd83d, 0xdd12, 0xd83d, 0xdd11,\n  0xd83d, 0xdd0e, 0xd83d, 0xdca1, 0xd83d, 0xdd26, 0xd83d, 0xdd0c, 0xd83d, 0xdd0b, 0xd83d, 0xdebf,\n  0xd83d, 0xdebd, 0xd83d, 0xdd27, 0xd83d, 0xdd28, 0xd83d, 0xdeaa, 0xd83d, 0xdeac, 0xd83d, 0xdca3,\n  0xd83d, 0xdd2b, 0xd83d, 0xdd2a, 0xd83d, 0xdc8a, 0xd83d, 0xdc89, 0xd83d, 0xdcb0, 0xd83d, 0xdcb5,\n  0xd83d, 0xdcb3, 0x2709, 0xd83d, 0xdceb, 0xd83d, 0xdce6, 0xd83d, 0xdcc5, 0xd83d, 0xdcc1, 0x2702,\n  0xd83d, 0xdccc, 0xd83d, 0xdcce, 0x2712, 0x270f, 0xd83d, 0xdcd0, 0xd83d, 0xdcda, 0xd83d, 0xdd2c,\n  0xd83d, 0xdd2d, 0xd83c, 0xdfa8, 0xd83c, 0xdfac, 0xd83c, 0xdfa4, 0xd83c, 0xdfa7, 0xd83c, 0xdfb5,\n  0xd83c, 0xdfb9, 0xd83c, 0xdfbb, 0xd83c, 0xdfba, 0xd83c, 0xdfb8, 0xd83d, 0xdc7e, 0xd83c, 0xdfae,\n  0xd83c, 0xdccf, 0xd83c, 0xdfb2, 0xd83c, 0xdfaf, 0xd83c, 0xdfc8, 0xd83c, 0xdfc0, 0x26bd, 0x26be,\n  0xd83c, 0xdfbe, 0xd83c, 0xdfb1, 0xd83c, 0xdfc9, 0xd83c, 0xdfb3, 0xd83c, 0xdfc1, 0xd83c, 0xdfc7,\n  0xd83c, 0xdfc6, 0xd83c, 0xdfca, 0xd83c, 0xdfc4, 0x2615, 0xd83c, 0xdf7c, 0xd83c, 0xdf7a, 0xd83c,\n  0xdf77, 0xd83c, 0xdf74, 0xd83c, 0xdf55, 0xd83c, 0xdf54, 0xd83c, 0xdf5f, 0xd83c, 0xdf57, 0xd83c,\n  0xdf71, 0xd83c, 0xdf5a, 0xd83c, 0xdf5c, 0xd83c, 0xdf61, 0xd83c, 0xdf73, 0xd83c, 0xdf5e, 0xd83c,\n  0xdf69, 0xd83c, 0xdf66, 0xd83c, 0xdf82, 0xd83c, 0xdf70, 0xd83c, 0xdf6a, 0xd83c, 0xdf6b, 0xd83c,\n  0xdf6d, 0xd83c, 0xdf6f, 0xd83c, 0xdf4e, 0xd83c, 0xdf4f, 0xd83c, 0xdf4a, 0xd83c, 0xdf4b, 0xd83c,\n  0xdf52, 0xd83c, 0xdf47, 0xd83c, 0xdf49, 0xd83c, 0xdf53, 0xd83c, 0xdf51, 0xd83c, 0xdf4c, 0xd83c,\n  0xdf50, 0xd83c, 0xdf4d, 0xd83c, 0xdf46, 0xd83c, 0xdf45, 0xd83c, 0xdf3d, 0xd83c, 0xdfe1, 0xd83c,\n  0xdfe5, 0xd83c, 0xdfe6, 0x26ea, 0xd83c, 0xdff0, 0x26fa, 0xd83c, 0xdfed, 0xd83d, 0xddfb, 0xd83d,\n  0xddfd, 0xd83c, 0xdfa0, 0xd83c, 0xdfa1, 0x26f2, 0xd83c, 0xdfa2, 0xd83d, 0xdea2, 0xd83d, 0xdea4,\n  0x2693, 0xd83d, 0xde80, 0x2708, 0xd83d, 0xde81, 0xd83d, 0xde82, 0xd83d, 0xde8b, 0xd83d, 0xde8e,\n  0xd83d, 0xde8c, 0xd83d, 0xde99, 0xd83d, 0xde97, 0xd83d, 0xde95, 0xd83d, 0xde9b, 0xd83d, 0xdea8,\n  0xd83d, 0xde94, 0xd83d, 0xde92, 0xd83d, 0xde91, 0xd83d, 0xdeb2, 0xd83d, 0xdea0, 0xd83d, 0xde9c,\n  0xd83d, 0xdea6, 0x26a0, 0xd83d, 0xdea7, 0x26fd, 0xd83c, 0xdfb0, 0xd83d, 0xddff, 0xd83c, 0xdfaa,\n  0xd83c, 0xdfad, 0xd83c, 0xddef, 0xd83c, 0xddf5, 0xd83c, 0xddf0, 0xd83c, 0xddf7, 0xd83c, 0xdde9,\n  0xd83c, 0xddea, 0xd83c, 0xdde8, 0xd83c, 0xddf3, 0xd83c, 0xddfa, 0xd83c, 0xddf8, 0xd83c, 0xddeb,\n  0xd83c, 0xddf7, 0xd83c, 0xddea, 0xd83c, 0xddf8, 0xd83c, 0xddee, 0xd83c, 0xddf9, 0xd83c, 0xddf7,\n  0xd83c, 0xddfa, 0xd83c, 0xddec, 0xd83c, 0xdde7, 0x0031, 0x20e3, 0x0032, 0x20e3, 0x0033, 0x20e3,\n  0x0034, 0x20e3, 0x0035, 0x20e3, 0x0036, 0x20e3, 0x0037, 0x20e3, 0x0038, 0x20e3, 0x0039, 0x20e3,\n  0x0030, 0x20e3, 0xd83d, 0xdd1f, 0x2757, 0x2753, 0x2665, 0x2666, 0xd83d, 0xdcaf, 0xd83d, 0xdd17,\n  0xd83d, 0xdd31, 0xd83d, 0xdd34, 0xd83d, 0xdd35, 0xd83d, 0xdd36, 0xd83d, 0xdd37,\n]);\n\nexport const EMOJI_OFFSETS = [\n  0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22,\n  24, 26, 28, 30, 32, 34, 36, 38, 40, 42, 44, 46,\n  48, 50, 52, 54, 56, 58, 60, 62, 64, 66, 68, 70,\n  72, 74, 76, 78, 80, 82, 84, 86, 87, 88, 90, 92,\n  94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116,\n  118, 120, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140,\n  142, 144, 146, 148, 150, 152, 154, 156, 158, 160, 162, 164,\n  166, 168, 170, 172, 174, 176, 178, 180, 182, 184, 186, 188,\n  190, 192, 194, 196, 198, 200, 202, 204, 206, 208, 210, 212,\n  214, 216, 218, 220, 222, 224, 226, 228, 230, 232, 234, 236,\n  238, 240, 242, 244, 246, 248, 250, 252, 254, 256, 258, 259,\n  260, 261, 262, 264, 266, 268, 270, 272, 274, 276, 278, 280,\n  282, 284, 286, 288, 290, 292, 294, 295, 297, 299, 301, 303,\n  305, 306, 307, 308, 310, 312, 314, 316, 318, 320, 322, 324,\n  326, 328, 330, 332, 334, 336, 338, 340, 342, 344, 346, 348,\n  350, 351, 353, 355, 357, 359, 360, 362, 364, 365, 366, 368,\n  370, 372, 374, 376, 378, 380, 382, 384, 386, 388, 390, 392,\n  394, 396, 398, 400, 402, 404, 406, 407, 408, 410, 412, 414,\n  416, 418, 420, 422, 424, 426, 427, 429, 431, 433, 435, 437,\n  439, 441, 443, 445, 447, 449, 451, 453, 455, 457, 459, 461,\n  463, 465, 467, 469, 471, 473, 475, 477, 479, 481, 483, 485,\n  487, 489, 491, 493, 495, 497, 499, 501, 503, 505, 507, 508,\n  510, 511, 513, 515, 517, 519, 521, 522, 524, 526, 528, 529,\n  531, 532, 534, 536, 538, 540, 542, 544, 546, 548, 550, 552,\n  554, 556, 558, 560, 562, 564, 566, 567, 569, 570, 572, 574,\n  576, 578, 582, 586, 590, 594, 598, 602, 606, 610, 614, 618,\n  620, 622, 624, 626, 628, 630, 632, 634, 636, 638, 640, 641,\n  642, 643, 644, 646, 648, 650, 652, 654, 656, 658,\n];\n","import { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport { selectActiveGroupCall, selectGroupCallParticipant, selectPhoneCallUser } from '../../selectors/calls';\nimport { updateGroupCall, updateGroupCallParticipant } from '../../reducers/calls';\nimport { buildCollectionByKey, omit } from '../../../util/iteratees';\nimport type { ApiCallProtocol } from '../../../lib/secret-sauce';\nimport {\n  handleUpdateGroupCallConnection,\n  handleUpdateGroupCallParticipants,\n  joinPhoneCall, processSignalingMessage,\n} from '../../../lib/secret-sauce';\nimport type { ApiPhoneCall } from '../../../api/types';\nimport { ARE_CALLS_SUPPORTED } from '../../../util/environment';\nimport { callApi } from '../../../api/gramjs';\nimport * as langProvider from '../../../util/langProvider';\nimport { EMOJI_DATA, EMOJI_OFFSETS } from '../../../util/phoneCallEmojiConstants';\nimport type { ActionReturnType } from '../../types';\nimport { updateTabState } from '../../reducers/tabs';\nimport { getCurrentTabId } from '../../../util/establishMultitabRole';\nimport { addUsers } from '../../reducers';\n\naddActionHandler('apiUpdate', (global, actions, update): ActionReturnType => {\n  const { activeGroupCallId } = global.groupCalls;\n\n  switch (update['@type']) {\n    case 'updateGroupCallLeavePresentation': {\n      actions.toggleGroupCallPresentation({ value: false });\n      break;\n    }\n    case 'updateGroupCallStreams': {\n      if (!update.userId || !activeGroupCallId) break;\n      if (!selectGroupCallParticipant(global, activeGroupCallId, update.userId)) break;\n\n      return updateGroupCallParticipant(global, activeGroupCallId, update.userId, omit(update, ['@type', 'userId']));\n    }\n    case 'updateGroupCallConnectionState': {\n      if (!activeGroupCallId) break;\n\n      if (update.connectionState === 'disconnected') {\n        actions.leaveGroupCall({ isFromLibrary: true, tabId: getCurrentTabId() });\n        break;\n      }\n\n      return updateGroupCall(global, activeGroupCallId, {\n        connectionState: update.connectionState,\n        isSpeakerDisabled: update.isSpeakerDisabled,\n      });\n    }\n    case 'updateGroupCallParticipants': {\n      const { groupCallId, participants } = update;\n      if (activeGroupCallId === groupCallId) {\n        void handleUpdateGroupCallParticipants(participants);\n      }\n      break;\n    }\n    case 'updateGroupCallConnection': {\n      if (update.data.stream) {\n        actions.showNotification({ message: 'Big live streams are not yet supported', tabId: getCurrentTabId() });\n        actions.leaveGroupCall({ tabId: getCurrentTabId() });\n        break;\n      }\n      void handleUpdateGroupCallConnection(update.data, update.presentation);\n\n      const groupCall = selectActiveGroupCall(global);\n      if (groupCall?.participants && Object.keys(groupCall.participants).length > 0) {\n        void handleUpdateGroupCallParticipants(Object.values(groupCall.participants));\n      }\n      break;\n    }\n    case 'updatePhoneCallMediaState':\n      return {\n        ...global,\n        phoneCall: {\n          ...global.phoneCall,\n          ...omit(update, ['@type']),\n        } as ApiPhoneCall,\n      };\n    case 'updatePhoneCall': {\n      if (!ARE_CALLS_SUPPORTED) return undefined;\n      const { phoneCall, currentUserId } = global;\n\n      const call: ApiPhoneCall = {\n        ...phoneCall,\n        ...update.call,\n      };\n\n      const isOutgoing = phoneCall?.adminId === currentUserId;\n\n      global = {\n        ...global,\n        phoneCall: call,\n      };\n\n      if (phoneCall && phoneCall.id && call.id !== phoneCall.id) {\n        if (call.state !== 'discarded') {\n          callApi('discardCall', {\n            call,\n            isBusy: true,\n          });\n        }\n        return undefined;\n      }\n\n      const {\n        accessHash, state, connections, gB,\n      } = call;\n\n      if (state === 'active' || state === 'accepted') {\n        if (!verifyPhoneCallProtocol(call.protocol)) {\n          const user = selectPhoneCallUser(global);\n          actions.hangUp({ tabId: getCurrentTabId() });\n          actions.showNotification({\n            message: langProvider.translate('VoipPeerIncompatible', user?.firstName),\n            tabId: getCurrentTabId(),\n          });\n          return undefined;\n        }\n      }\n\n      if (state === 'discarded') {\n        // Discarded from other device\n        if (!phoneCall) return undefined;\n\n        return updateTabState(global, {\n          ...(call.needRating && { ratingPhoneCall: call }),\n          isCallPanelVisible: undefined,\n        }, getCurrentTabId());\n      } else if (state === 'accepted' && accessHash && gB) {\n        (async () => {\n          const { gA, keyFingerprint, emojis } = await callApi('confirmPhoneCall', [gB, EMOJI_DATA, EMOJI_OFFSETS])!;\n\n          global = getGlobal();\n          const newCall = {\n            ...global.phoneCall,\n            emojis,\n          } as ApiPhoneCall;\n\n          global = {\n            ...global,\n            phoneCall: newCall,\n          };\n          setGlobal(global);\n\n          const result = await callApi('confirmCall', {\n            call, gA, keyFingerprint,\n          });\n          if (result) {\n            global = getGlobal();\n            global = addUsers(global, buildCollectionByKey(result.users, 'id'));\n            setGlobal(global);\n          }\n        })();\n      } else if (state === 'active' && connections && phoneCall?.state !== 'active') {\n        if (!isOutgoing) {\n          callApi('receivedCall', { call });\n          (async () => {\n            const { emojis } = await callApi('confirmPhoneCall', [call!.gAOrB!, EMOJI_DATA, EMOJI_OFFSETS])!;\n\n            global = getGlobal();\n            const newCall = {\n              ...global.phoneCall,\n              emojis,\n            } as ApiPhoneCall;\n\n            global = {\n              ...global,\n              phoneCall: newCall,\n            };\n            setGlobal(global);\n          })();\n        }\n        void joinPhoneCall(\n          connections, actions.sendSignalingData, isOutgoing, Boolean(call?.isVideo), actions.apiUpdate,\n        );\n      }\n\n      return global;\n    }\n    case 'updatePhoneCallConnectionState': {\n      const { connectionState } = update;\n\n      if (!global.phoneCall) return global;\n\n      if (connectionState === 'closed' || connectionState === 'disconnected' || connectionState === 'failed') {\n        actions.hangUp({ tabId: getCurrentTabId() });\n        return undefined;\n      }\n\n      return {\n        ...global,\n        phoneCall: {\n          ...global.phoneCall,\n          isConnected: connectionState === 'connected',\n        },\n      };\n    }\n    case 'updatePhoneCallSignalingData': {\n      const { phoneCall } = global;\n\n      if (!phoneCall) {\n        break;\n      }\n\n      callApi('decodePhoneCallData', [update.data])?.then(processSignalingMessage);\n      break;\n    }\n  }\n\n  return undefined;\n});\n\nfunction verifyPhoneCallProtocol(protocol?: ApiCallProtocol) {\n  return protocol?.libraryVersions.some((version) => {\n    return version === '4.0.0' || version === '4.0.1';\n  });\n}\n","export const vibrateShort = () => {\n  navigator.vibrate?.(50);\n};\n","import type { GroupCallConnectionState } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport buildClassName from '../../../util/buildClassName';\nimport { vibrateShort } from '../../../util/vibrate';\nimport usePrevious from '../../../hooks/usePrevious';\nimport { selectActiveGroupCall, selectGroupCallParticipant } from '../../../global/selectors/calls';\nimport useLang from '../../../hooks/useLang';\n\nimport AnimatedIcon from '../../common/AnimatedIcon';\n\nimport './MicrophoneButton.scss';\n\nconst CONNECTION_STATE_DEFAULT = 'discarded';\n\ntype StateProps = {\n  connectionState?: GroupCallConnectionState;\n  hasRequestedToSpeak: boolean;\n  isMuted?: boolean;\n  canSelfUnmute?: boolean;\n  noAudioStream: boolean;\n};\n\nconst REQUEST_TO_SPEAK_THROTTLE = 3000;\nconst HOLD_TO_SPEAK_TIME = 200;\nconst ICON_SIZE = 48;\n\nconst MicrophoneButton: FC<StateProps> = ({\n  noAudioStream,\n  canSelfUnmute,\n  isMuted,\n  hasRequestedToSpeak,\n  connectionState,\n}) => {\n  const {\n    toggleGroupCallMute,\n    requestToSpeak,\n    playGroupCallSound,\n  } = getActions();\n\n  const lang = useLang();\n  const muteMouseDownState = useRef('up');\n\n  const [isRequestingToSpeak, setIsRequestingToSpeak] = useState(false);\n  const isConnecting = connectionState !== 'connected';\n  const shouldRaiseHand = !canSelfUnmute && isMuted;\n  const prevShouldRaiseHand = usePrevious(shouldRaiseHand);\n\n  useEffect(() => {\n    if (prevShouldRaiseHand && !shouldRaiseHand) {\n      playGroupCallSound({ sound: 'allowTalk' });\n    }\n  }, [playGroupCallSound, prevShouldRaiseHand, shouldRaiseHand]);\n\n  // Voice mini\n  // unmuted -> muted [69, 99]\n  // muted -> unmuted [36, 69]\n  // raise -> muted [0, 36]\n  // muted -> raise [99, 136]\n  // unmuted -> raise [136, 172]\n  // TODO should probably move to other component\n  const playSegment: [number, number] = useMemo(() => {\n    if (isRequestingToSpeak) {\n      const r = Math.floor(Math.random() * 100);\n      return (r < 32 ? [0, 120]\n        : (r < 64 ? [120, 240]\n          : (r < 97 ? [240, 420]\n            : [420, 540]\n          )\n        )\n      );\n    }\n    if (!prevShouldRaiseHand && shouldRaiseHand) {\n      return noAudioStream ? [99, 135] : [136, 172];\n    }\n    if (prevShouldRaiseHand && !shouldRaiseHand) {\n      return [0, 36];\n    }\n    if (!shouldRaiseHand) {\n      return noAudioStream ? [69, 99] : [36, 69];\n    }\n    return [0, 0];\n  }, [prevShouldRaiseHand, isRequestingToSpeak, noAudioStream, shouldRaiseHand]);\n\n  const animatedIconName = isRequestingToSpeak ? 'HandFilled' : 'VoiceMini';\n\n  const toggleMute = () => {\n    vibrateShort();\n    toggleGroupCallMute();\n  };\n\n  const handleMouseDownMute = () => {\n    if (shouldRaiseHand) {\n      if (isRequestingToSpeak) return;\n      vibrateShort();\n      requestToSpeak();\n      setIsRequestingToSpeak(true);\n      setTimeout(() => {\n        setIsRequestingToSpeak(false);\n      }, REQUEST_TO_SPEAK_THROTTLE);\n      return;\n    }\n    muteMouseDownState.current = 'down';\n    if (noAudioStream) {\n      setTimeout(() => {\n        if (muteMouseDownState.current === 'down') {\n          muteMouseDownState.current = 'hold';\n          toggleMute();\n        }\n      }, HOLD_TO_SPEAK_TIME);\n    }\n  };\n\n  const handleMouseUpMute = () => {\n    if (shouldRaiseHand) {\n      return;\n    }\n    toggleMute();\n    muteMouseDownState.current = 'up';\n  };\n\n  const buttonText = lang(\n    hasRequestedToSpeak ? 'VoipMutedTapedForSpeak' : (\n      shouldRaiseHand ? 'VoipMutedByAdmin' : (\n        noAudioStream ? 'VoipUnmute' : 'VoipTapToMute'\n      )\n    ),\n  );\n\n  return (\n    <div className=\"button-wrapper microphone-wrapper\">\n      <button\n        className={buildClassName(\n          'MicrophoneButton',\n          noAudioStream && 'crossed',\n          canSelfUnmute && 'can-self-unmute',\n          isConnecting && 'is-connecting',\n          shouldRaiseHand && 'muted-by-admin',\n        )}\n        onMouseDown={handleMouseDownMute}\n        onMouseUp={handleMouseUpMute}\n      >\n        <AnimatedIcon\n          tgsUrl={LOCAL_TGS_URLS[animatedIconName]}\n          size={ICON_SIZE}\n          playSegment={playSegment}\n        />\n      </button>\n      <div className=\"button-text\">\n        {buttonText}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const groupCall = selectActiveGroupCall(global);\n\n    const { connectionState } = groupCall || {};\n    const meParticipant = groupCall && selectGroupCallParticipant(global, groupCall.id, global.currentUserId!);\n\n    const {\n      raiseHandRating, hasAudioStream, canSelfUnmute, isMuted,\n    } = meParticipant || {};\n\n    return {\n      connectionState: connectionState || CONNECTION_STATE_DEFAULT,\n      hasRequestedToSpeak: Boolean(raiseHandRating),\n      noAudioStream: !hasAudioStream,\n      canSelfUnmute,\n      isMuted,\n    };\n  },\n)(MicrophoneButton));\n","import type { GroupCallParticipant } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useEffect, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport type { IAnchorPosition } from '../../../types';\n\nimport { GROUP_CALL_DEFAULT_VOLUME, GROUP_CALL_VOLUME_MULTIPLIER } from '../../../config';\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport buildClassName from '../../../util/buildClassName';\nimport buildStyle from '../../../util/buildStyle';\nimport useRunThrottled from '../../../hooks/useRunThrottled';\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport { selectIsAdminInActiveGroupCall } from '../../../global/selectors/calls';\n\nimport Menu from '../../ui/Menu';\nimport MenuItem from '../../ui/MenuItem';\nimport AnimatedIcon from '../../common/AnimatedIcon';\nimport DeleteMemberModal from '../../right/DeleteMemberModal';\n\nimport './GroupCallParticipantMenu.scss';\n\nconst SPEAKER_ICON_DISABLED_SEGMENT: [number, number] = [0, 17];\nconst SPEAKER_ICON_ENABLED_SEGMENT: [number, number] = [17, 34];\n\ntype OwnProps = {\n  participant?: GroupCallParticipant;\n  closeDropdown: VoidFunction;\n  isDropdownOpen: boolean;\n  anchor?: IAnchorPosition;\n};\n\ntype StateProps = {\n  isAdmin: boolean;\n};\n\nconst VOLUME_ZERO = 0;\nconst VOLUME_LOW = 50;\nconst VOLUME_MEDIUM = 100;\nconst VOLUME_NORMAL = 150;\n\nconst VOLUME_CHANGE_THROTTLE = 500;\n\nconst SPEAKER_ICON_SIZE = 24;\n\nconst GroupCallParticipantMenu: FC<OwnProps & StateProps> = ({\n  participant,\n  closeDropdown,\n  isDropdownOpen,\n  anchor,\n  isAdmin,\n}) => {\n  const {\n    toggleGroupCallMute,\n    setGroupCallParticipantVolume,\n    toggleGroupCallPanel,\n    openChat,\n    requestToSpeak,\n  } = getActions();\n\n  const lang = useLang();\n  const [isDeleteUserModalOpen, openDeleteUserModal, closeDeleteUserModal] = useFlag();\n\n  const id = participant?.id;\n  const {\n    isMutedByMe, isMuted, isSelf, canSelfUnmute,\n  } = participant || {};\n  const isRaiseHand = Boolean(participant?.raiseHandRating);\n  const shouldRaiseHand = !canSelfUnmute && isMuted;\n\n  const [localVolume, setLocalVolume] = useState(\n    isMutedByMe ? VOLUME_ZERO : ((participant?.volume || GROUP_CALL_DEFAULT_VOLUME) / GROUP_CALL_VOLUME_MULTIPLIER),\n  );\n\n  useEffect(() => {\n    setLocalVolume(isMutedByMe\n      ? VOLUME_ZERO\n      : ((participant?.volume || GROUP_CALL_DEFAULT_VOLUME) / GROUP_CALL_VOLUME_MULTIPLIER));\n    // We only want to initialize local volume when switching participants and ignore following updates from server\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const runThrottled = useRunThrottled(VOLUME_CHANGE_THROTTLE);\n\n  const handleRemove = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    openDeleteUserModal();\n    closeDropdown();\n  }, [openDeleteUserModal, closeDropdown]);\n\n  const handleCancelRequestToSpeak = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    requestToSpeak({\n      value: false,\n    });\n    closeDropdown();\n  }, [requestToSpeak, closeDropdown]);\n\n  const handleMute = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    closeDropdown();\n\n    if (!isAdmin) {\n      setLocalVolume(isMutedByMe ? GROUP_CALL_DEFAULT_VOLUME / GROUP_CALL_VOLUME_MULTIPLIER : VOLUME_ZERO);\n    }\n\n    toggleGroupCallMute({\n      participantId: id!,\n      value: isAdmin ? !shouldRaiseHand : !isMutedByMe,\n    });\n  }, [closeDropdown, toggleGroupCallMute, id, isAdmin, shouldRaiseHand, isMutedByMe]);\n\n  const handleOpenProfile = useCallback((e: React.SyntheticEvent<any>) => {\n    e.stopPropagation();\n    toggleGroupCallPanel();\n    openChat({\n      id,\n    });\n    closeDropdown();\n  }, [toggleGroupCallPanel, closeDropdown, openChat, id]);\n\n  const isLocalVolumeZero = localVolume === VOLUME_ZERO;\n  const speakerIconPlaySegment = isLocalVolumeZero ? SPEAKER_ICON_DISABLED_SEGMENT : SPEAKER_ICON_ENABLED_SEGMENT;\n\n  const handleChangeVolume = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Number(e.target.value);\n    setLocalVolume(value);\n    runThrottled(() => {\n      if (value === VOLUME_ZERO) {\n        toggleGroupCallMute({\n          participantId: id!,\n          value: true,\n        });\n      } else {\n        setGroupCallParticipantVolume({\n          participantId: id!,\n          volume: Math.floor(value * GROUP_CALL_VOLUME_MULTIPLIER),\n        });\n      }\n    });\n  };\n\n  return (\n    <div>\n      <Menu\n        isOpen={isDropdownOpen}\n        positionX=\"right\"\n        autoClose\n        style={buildStyle(anchor && `right: 1rem; top: ${anchor.y}px`)}\n        onClose={closeDropdown}\n        className=\"participant-menu\"\n      >\n        {!isSelf && !shouldRaiseHand && (\n          <div className=\"group\">\n            <div className={buildClassName(\n              'volume-control',\n              localVolume < VOLUME_LOW && 'low',\n              localVolume >= VOLUME_LOW && localVolume < VOLUME_MEDIUM && 'medium',\n              localVolume >= VOLUME_MEDIUM && localVolume < VOLUME_NORMAL && 'normal',\n              localVolume >= VOLUME_NORMAL && 'high',\n            )}\n            >\n              <input\n                type=\"range\"\n                min=\"0\"\n                max=\"200\"\n                value={localVolume}\n                onChange={handleChangeVolume}\n              />\n              <div className=\"info\">\n                <AnimatedIcon\n                  tgsUrl={LOCAL_TGS_URLS.Speaker}\n                  playSegment={speakerIconPlaySegment}\n                  size={SPEAKER_ICON_SIZE}\n                />\n                <span>{localVolume}%</span>\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"group\">\n          {(isRaiseHand && isSelf) && (\n            <MenuItem\n              icon=\"stop-raising-hand\"\n              onClick={handleCancelRequestToSpeak}\n            >\n              {lang('VoipGroupCancelRaiseHand')}\n            </MenuItem>\n          )}\n          {!isSelf && <MenuItem icon=\"user\" onClick={handleOpenProfile}>{lang('VoipGroupOpenProfile')}</MenuItem>}\n          {!isSelf && (\n            // TODO cross mic\n            <MenuItem\n              icon={isMuted ? (isAdmin ? 'allow-speak' : 'microphone-alt') : 'microphone-alt'}\n              onClick={handleMute}\n            >\n              {isAdmin\n                ? lang(shouldRaiseHand ? 'VoipGroupAllowToSpeak' : 'VoipMute')\n                : lang(isMutedByMe ? 'VoipGroupUnmuteForMe' : 'VoipGroupMuteForMe')}\n            </MenuItem>\n          )}\n          {!isSelf && isAdmin && (\n            // TODO replace with hand\n            <MenuItem icon=\"delete-user\" destructive onClick={handleRemove}>\n              {lang('VoipGroupUserRemove')}\n            </MenuItem>\n          )}\n        </div>\n      </Menu>\n\n      {!isSelf && isAdmin && (\n        <DeleteMemberModal\n          isOpen={isDeleteUserModalOpen}\n          userId={id}\n          onClose={closeDeleteUserModal}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    return {\n      isAdmin: selectIsAdminInActiveGroupCall(global),\n    };\n  },\n)(GroupCallParticipantMenu));\n","import { useCallback, useMemo } from '../lib/teact/teact';\n\nimport { throttle } from '../util/schedulers';\n\nexport default function useThrottledCallback<T extends AnyToVoidFunction>(\n  fn: T,\n  deps: any[],\n  ms: number,\n  noFirst?: boolean,\n) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const fnMemo = useCallback(fn, deps);\n\n  return useMemo(() => {\n    return throttle(fnMemo, ms, !noFirst);\n  }, [fnMemo, ms, noFirst]);\n}\n","import useThrottledCallback from './useThrottledCallback';\n\nexport default function useRunThrottled(ms: number, noFirst?: boolean) {\n  return useThrottledCallback((cb: NoneToVoidFunction) => {\n    cb();\n  }, [], ms, noFirst);\n}\n","import type { GroupCallParticipant } from '../../../lib/secret-sauce';\nimport { THRESHOLD } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useMemo } from '../../../lib/teact/teact';\n\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport usePrevious from '../../../hooks/usePrevious';\n\nimport AnimatedIcon from '../../common/AnimatedIcon';\n\ntype OwnProps = {\n  participant: GroupCallParticipant;\n  noColor?: boolean;\n};\n\nconst OutlinedMicrophoneIcon: FC<OwnProps> = ({\n  participant,\n  noColor,\n}) => {\n  const { isMuted, isMutedByMe } = participant;\n  const isSpeaking = (participant.amplitude || 0) > THRESHOLD;\n  const isRaiseHand = Boolean(participant.raiseHandRating);\n  const prevIsRaiseHand = usePrevious(isRaiseHand);\n  const canSelfUnmute = Boolean(participant?.canSelfUnmute);\n  const shouldRaiseHand = !canSelfUnmute && isMuted;\n  const prevIsMuted = usePrevious(isMuted);\n\n  const playSegment: [number, number] = useMemo(() => {\n    if (isMuted && !prevIsMuted) {\n      return [43, 64];\n    }\n\n    if (!isMuted && prevIsMuted) {\n      return [22, 42];\n    }\n\n    if (isRaiseHand && !prevIsRaiseHand) {\n      return [65, 84];\n    }\n\n    if (!shouldRaiseHand && prevIsRaiseHand) {\n      return [0, 21];\n    }\n\n    // TODO cancel request to speak should play in reverse\n    // if (!isRaiseHand && prevIsRaiseHand) {\n    //   return [84, 65];\n    // }\n\n    return isMuted ? [22, 23] : [43, 44];\n    // eslint-disable-next-line\n  }, [isMuted, shouldRaiseHand, isRaiseHand]);\n\n  const microphoneColor: [number, number, number] | undefined = useMemo(() => {\n    return noColor ? [0xff, 0xff, 0xff] : (\n      isRaiseHand ? [0x4d, 0xa6, 0xe0]\n        : (shouldRaiseHand || isMutedByMe ? [0xFF, 0x70, 0x6F] : (\n          isSpeaking ? [0x57, 0xBC, 0x6C] : [0x84, 0x8D, 0x94]\n        ))\n    );\n  }, [noColor, isRaiseHand, shouldRaiseHand, isMutedByMe, isSpeaking]);\n\n  return (\n    <AnimatedIcon\n      tgsUrl={LOCAL_TGS_URLS.VoiceOutlined}\n      playSegment={playSegment}\n      size={28}\n      color={microphoneColor}\n    />\n  );\n};\n\nexport default memo(OutlinedMicrophoneIcon);\n","import type { GroupCallParticipant as TypeGroupCallParticipant } from '../../../lib/secret-sauce';\nimport { THRESHOLD } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useMemo, useRef } from '../../../lib/teact/teact';\nimport { withGlobal } from '../../../global';\n\nimport type { ApiChat, ApiUser } from '../../../api/types';\n\nimport buildClassName from '../../../util/buildClassName';\nimport { selectChat, selectUser } from '../../../global/selectors';\nimport useLang from '../../../hooks/useLang';\nimport { GROUP_CALL_DEFAULT_VOLUME, GROUP_CALL_VOLUME_MULTIPLIER } from '../../../config';\n\nimport Avatar from '../../common/Avatar';\nimport OutlinedMicrophoneIcon from './OutlinedMicrophoneIcon';\n\nimport './GroupCallParticipant.scss';\n\ntype OwnProps = {\n  participant: TypeGroupCallParticipant;\n  openParticipantMenu: (anchor: HTMLDivElement, participant: TypeGroupCallParticipant) => void;\n};\n\ntype StateProps = {\n  user?: ApiUser;\n  chat?: ApiChat;\n};\n\nconst GroupCallParticipant: FC<OwnProps & StateProps> = ({\n  openParticipantMenu,\n  participant,\n  user,\n  chat,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  const anchorRef = useRef<HTMLDivElement>(null);\n  const lang = useLang();\n\n  const { isSelf, isMutedByMe, isMuted } = participant;\n  const isSpeaking = (participant.amplitude || 0) > THRESHOLD;\n  const isRaiseHand = Boolean(participant.raiseHandRating);\n\n  const handleOnClick = () => {\n    if (isSelf) return;\n    openParticipantMenu(anchorRef.current!, participant);\n  };\n\n  const [aboutText, aboutColor] = useMemo(() => {\n    if (isSelf) {\n      return [lang('ThisIsYou'), 'blue'];\n    }\n    if (isMutedByMe) {\n      return [lang('VoipGroupMutedForMe'), 'red'];\n    }\n    return isRaiseHand\n      ? [lang('WantsToSpeak'), 'blue']\n      : (!isMuted && isSpeaking ? [\n        participant.volume && participant.volume !== GROUP_CALL_DEFAULT_VOLUME\n          ? lang('SpeakingWithVolume',\n            (participant.volume / GROUP_CALL_VOLUME_MULTIPLIER).toString())\n            .replace('%%', '%') : lang('Speaking'),\n        'green',\n      ]\n        : (participant.about ? [participant.about, ''] : [lang('Listening'), 'blue']));\n  }, [isSpeaking, participant.volume, lang, isSelf, isMutedByMe, isRaiseHand, isMuted, participant.about]);\n\n  if (!user && !chat) {\n    return undefined;\n  }\n\n  const name = user ? `${user.firstName || ''} ${user.lastName || ''}` : chat?.title;\n\n  return (\n    <div\n      className={buildClassName(\n        'GroupCallParticipant',\n        participant.canSelfUnmute && 'can-self-unmute',\n      )}\n      onClick={handleOnClick}\n      ref={anchorRef}\n    >\n      <Avatar user={user} chat={chat} size=\"medium\" />\n      <div className=\"info\">\n        <span className=\"name\">{name}</span>\n        <span className={buildClassName('about', aboutColor)}>{aboutText}</span>\n      </div>\n      <div className=\"microphone\">\n        <OutlinedMicrophoneIcon participant={participant} />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { participant }): StateProps => {\n    return {\n      user: participant.isUser ? selectUser(global, participant.id) : undefined,\n      chat: !participant.isUser ? selectChat(global, participant.id) : undefined,\n    };\n  },\n)(GroupCallParticipant));\n","import type { GroupCallParticipant as TypeGroupCallParticipant } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useCallback, useMemo } from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport useLang from '../../../hooks/useLang';\nimport { selectActiveGroupCall } from '../../../global/selectors/calls';\nimport useInfiniteScroll from '../../../hooks/useInfiniteScroll';\n\nimport GroupCallParticipant from './GroupCallParticipant';\nimport InfiniteScroll from '../../ui/InfiniteScroll';\n\ntype OwnProps = {\n  openParticipantMenu: (anchor: HTMLDivElement, participant: TypeGroupCallParticipant) => void;\n};\n\ntype StateProps = {\n  participantsCount: number;\n  participants?: Record<string, TypeGroupCallParticipant>;\n  canInvite?: boolean;\n};\n\nconst GroupCallParticipantList: FC<OwnProps & StateProps> = ({\n  participants,\n  participantsCount,\n  openParticipantMenu,\n}) => {\n  const {\n    createGroupCallInviteLink,\n    loadMoreGroupCallParticipants,\n  } = getActions();\n\n  const lang = useLang();\n\n  const participantsIds = useMemo(() => {\n    return Object.keys(participants || {});\n  }, [participants]);\n\n  const handleLoadMoreGroupCallParticipants = useCallback(() => {\n    loadMoreGroupCallParticipants();\n  }, [loadMoreGroupCallParticipants]);\n\n  const [viewportIds, getMore] = useInfiniteScroll(\n    handleLoadMoreGroupCallParticipants,\n    participantsIds,\n    participantsIds.length >= participantsCount,\n  );\n\n  function handleCreateGroupCallInviteLink() {\n    createGroupCallInviteLink();\n  }\n\n  return (\n    <div className=\"participants\">\n      <div className=\"invite-btn\" onClick={handleCreateGroupCallInviteLink}>\n        <div className=\"icon\">\n          <i className=\"icon-add-user\" />\n        </div>\n        <div className=\"text\">{lang('VoipGroupInviteMember')}</div>\n      </div>\n\n      <InfiniteScroll\n        items={viewportIds}\n        onLoadMore={getMore}\n      >\n        {viewportIds?.map(\n          (participantId) => (\n            participants![participantId] && (\n              <GroupCallParticipant\n                key={participantId}\n                openParticipantMenu={openParticipantMenu}\n                participant={participants![participantId]}\n              />\n            )\n          ),\n        )}\n      </InfiniteScroll>\n\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    const { participantsCount, participants } = selectActiveGroupCall(global) || {};\n\n    return {\n      participants,\n      participantsCount: participantsCount || 0,\n    };\n  },\n)(GroupCallParticipantList));\n","import type { GroupCallParticipant as TypeGroupCallParticipant } from '../../../lib/secret-sauce';\nimport { getUserStreams, THRESHOLD } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, { memo, useCallback } from '../../../lib/teact/teact';\nimport { withGlobal } from '../../../global';\n\nimport type { ApiChat, ApiUser } from '../../../api/types';\n\nimport { GROUP_CALL_THUMB_VIDEO_DISABLED } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport { selectChat, selectUser } from '../../../global/selectors';\nimport useLang from '../../../hooks/useLang';\n\nimport Avatar from '../../common/Avatar';\n\nimport './GroupCallParticipantVideo.scss';\n\ntype OwnProps = {\n  participant: TypeGroupCallParticipant;\n  type: 'video' | 'presentation';\n  onClick?: (id: string, type: 'video' | 'presentation') => void;\n  isFullscreen?: boolean;\n};\n\ntype StateProps = {\n  user?: ApiUser;\n  chat?: ApiChat;\n  currentUserId?: string;\n  isActive?: boolean;\n};\n\nconst GroupCallParticipantVideo: FC<OwnProps & StateProps> = ({\n  type,\n  onClick,\n  user,\n  chat,\n  isActive,\n  isFullscreen,\n}) => {\n  const lang = useLang();\n\n  const handleClick = useCallback(() => {\n    if (onClick) {\n      onClick(user?.id || chat!.id, type);\n    }\n  }, [chat, onClick, type, user?.id]);\n\n  if (!user && !chat) return undefined;\n\n  const streams = getUserStreams(user?.id || chat!.id);\n\n  return (\n    <div\n      className={buildClassName('GroupCallParticipantVideo', isActive && 'active')}\n      onClick={handleClick}\n    >\n      {isFullscreen && (\n        <button className=\"back-button\">\n          <i className=\"icon-arrow-left\" />\n          {lang('Back')}\n        </button>\n      )}\n      <Avatar user={user} chat={chat} className=\"thumbnail-avatar\" />\n      {!GROUP_CALL_THUMB_VIDEO_DISABLED && (\n        <div className=\"thumbnail-wrapper\">\n          <video className=\"thumbnail\" muted autoPlay playsInline srcObject={streams?.[type]} />\n        </div>\n      )}\n      <video className=\"video\" muted autoPlay playsInline srcObject={streams?.[type]} />\n      <div className=\"info\">\n        <i className=\"icon-microphone-alt\" />\n        <span className=\"name\">{user?.firstName || chat?.title}</span>\n        {type === 'presentation' && <i className=\"last-icon icon-active-sessions\" />}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { participant }): StateProps => {\n    return {\n      currentUserId: global.currentUserId,\n      user: participant.isUser ? selectUser(global, participant.id) : undefined,\n      chat: !participant.isUser ? selectChat(global, participant.id) : undefined,\n      isActive: (participant.amplitude || 0) > THRESHOLD,\n    };\n  },\n)(GroupCallParticipantVideo));\n","import type { GroupCallParticipant } from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useMemo, useState,\n} from '../../../lib/teact/teact';\nimport { withGlobal } from '../../../global';\nimport GroupCallParticipantVideo from './GroupCallParticipantVideo';\nimport { selectActiveGroupCall } from '../../../global/selectors/calls';\nimport buildClassName from '../../../util/buildClassName';\n\ntype OwnProps = {\n  onDoubleClick?: VoidFunction;\n};\n\ntype StateProps = {\n  participants?: Record<string, GroupCallParticipant>;\n};\n\ntype SelectedVideo = {\n  type: 'video' | 'presentation';\n  id: string;\n};\n\nconst GroupCallParticipantStreams: FC<OwnProps & StateProps> = ({\n  participants,\n  onDoubleClick,\n}) => {\n  const [selectedVideo, setSelectedVideo] = useState<SelectedVideo | undefined>(undefined);\n  const presentationParticipants = useMemo(() => {\n    return Object.values(participants || {}).filter((participant) => participant.hasPresentationStream);\n  }, [participants]);\n  const videoParticipants = useMemo(() => {\n    return Object.values(participants || {}).filter((participant) => participant.hasVideoStream);\n  }, [participants]);\n\n  const totalVideoCount = videoParticipants.length + presentationParticipants.length;\n  // TODO replace with more adequate solution.\n  // There's a max of 30 videos or so right now\n  const columnCount = totalVideoCount <= 2 ? 1 : (\n    totalVideoCount <= 6 ? 2 : (\n      totalVideoCount <= 9 ? 3 : 4\n    )\n  );\n\n  const shouldSpanLastVideo = totalVideoCount === 3 || (columnCount === 2 && totalVideoCount % 2 !== 0);\n\n  const handleClickVideo = useCallback((id: string, type: 'video' | 'presentation') => {\n    if (!selectedVideo || (id !== selectedVideo.id || type !== selectedVideo.type)) {\n      setSelectedVideo({\n        id,\n        type,\n      });\n    } else {\n      setSelectedVideo(undefined);\n    }\n  }, [selectedVideo]);\n\n  return (\n    <div className=\"streams\" onDoubleClick={onDoubleClick}>\n      <div\n        className={buildClassName(\n          'videos',\n          shouldSpanLastVideo && 'span-last-video',\n        )}\n        style={`--column-count: ${selectedVideo ? 1 : columnCount}`}\n      >\n        {selectedVideo && (\n          <GroupCallParticipantVideo\n            key={selectedVideo.id}\n            isFullscreen\n            onClick={handleClickVideo}\n            participant={participants![selectedVideo.id]}\n            type={selectedVideo.type}\n          />\n        )}\n\n        {!selectedVideo ? presentationParticipants.map((participant) => (\n          <GroupCallParticipantVideo\n            key={participant.id}\n            onClick={handleClickVideo}\n            participant={participant}\n            type=\"presentation\"\n          />\n        )) : undefined}\n        {!selectedVideo ? videoParticipants.map((participant) => (\n          <GroupCallParticipantVideo\n            key={participant.id}\n            onClick={handleClickVideo}\n            participant={participant}\n            type=\"video\"\n          />\n        )) : undefined}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    const { participants } = selectActiveGroupCall(global) || {};\n    return {\n      participants,\n    };\n  },\n)(GroupCallParticipantStreams));\n","import type {\n  GroupCallConnectionState, GroupCallParticipant as TypeGroupCallParticipant,\n} from '../../../lib/secret-sauce';\nimport {\n  IS_SCREENSHARE_SUPPORTED, switchCameraInput, toggleSpeaker,\n} from '../../../lib/secret-sauce';\nimport type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useEffect, useMemo, useRef, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\nimport '../../../global/actions/calls';\n\nimport type { IAnchorPosition } from '../../../types';\n\nimport {\n  IS_ANDROID,\n  IS_IOS,\n  IS_REQUEST_FULLSCREEN_SUPPORTED,\n} from '../../../util/environment';\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport buildClassName from '../../../util/buildClassName';\nimport {\n  selectGroupCall,\n  selectGroupCallParticipant,\n  selectIsAdminInActiveGroupCall,\n} from '../../../global/selectors/calls';\nimport { selectTabState } from '../../../global/selectors';\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport useAppLayout from '../../../hooks/useAppLayout';\n\nimport Loading from '../../ui/Loading';\nimport Button from '../../ui/Button';\nimport DropdownMenu from '../../ui/DropdownMenu';\nimport MenuItem from '../../ui/MenuItem';\nimport Modal from '../../ui/Modal';\nimport MicrophoneButton from './MicrophoneButton';\nimport AnimatedIcon from '../../common/AnimatedIcon';\nimport Checkbox from '../../ui/Checkbox';\nimport GroupCallParticipantMenu from './GroupCallParticipantMenu';\nimport GroupCallParticipantList from './GroupCallParticipantList';\nimport GroupCallParticipantStreams from './GroupCallParticipantStreams';\n\nimport './GroupCall.scss';\n\nconst CAMERA_FLIP_PLAY_SEGMENT: [number, number] = [0, 10];\nconst PARTICIPANT_HEIGHT = 60;\n\nexport type OwnProps = {\n  groupCallId: string;\n};\n\ntype StateProps = {\n  isCallPanelVisible: boolean;\n  connectionState: GroupCallConnectionState;\n  title?: string;\n  meParticipant?: TypeGroupCallParticipant;\n  participantsCount?: number;\n  isSpeakerEnabled?: boolean;\n  isAdmin: boolean;\n  participants: Record<string, TypeGroupCallParticipant>;\n};\n\nconst GroupCall: FC<OwnProps & StateProps> = ({\n  groupCallId,\n  isCallPanelVisible,\n  connectionState,\n  isSpeakerEnabled,\n  title,\n  meParticipant,\n  isAdmin,\n  participants,\n\n}) => {\n  const {\n    toggleGroupCallVideo,\n    toggleGroupCallPresentation,\n    leaveGroupCall,\n    toggleGroupCallPanel,\n    connectToActiveGroupCall,\n    playGroupCallSound,\n  } = getActions();\n\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  const { isMobile, isLandscape } = useAppLayout();\n\n  const [isLeaving, setIsLeaving] = useState(false);\n  const [isFullscreen, openFullscreen, closeFullscreen] = useFlag();\n  const [isSidebarOpen, openSidebar, closeSidebar] = useFlag(true);\n  const hasVideoParticipants = Object.values(participants).some(({ video, presentation }) => video || presentation);\n  const isLandscapeLayout = isFullscreen && (!isMobile || isLandscape) && hasVideoParticipants;\n\n  const [participantMenu, setParticipantMenu] = useState<{\n    participant: TypeGroupCallParticipant;\n    anchor: IAnchorPosition;\n  } | undefined>();\n  const [isParticipantMenuOpen, openParticipantMenu, closeParticipantMenu] = useFlag();\n\n  const [isConfirmLeaveModalOpen, openConfirmLeaveModal, closeConfirmLeaveModal] = useFlag();\n  const [isEndGroupCallModal, setIsEndGroupCallModal] = useState(false);\n  const [shouldEndGroupCall, setShouldEndGroupCall] = useState(false);\n\n  const hasVideo = meParticipant?.hasVideoStream;\n  const hasPresentation = meParticipant?.hasPresentationStream;\n  const isConnecting = connectionState !== 'connected';\n  const canSelfUnmute = meParticipant?.canSelfUnmute;\n  const shouldRaiseHand = !canSelfUnmute && meParticipant?.isMuted;\n\n  const handleOpenParticipantMenu = useCallback((anchor: HTMLDivElement, participant: TypeGroupCallParticipant) => {\n    const rect = anchor.getBoundingClientRect();\n    const container = containerRef.current!;\n\n    setParticipantMenu({\n      anchor: { x: rect.left, y: rect.top - container.offsetTop + PARTICIPANT_HEIGHT },\n      participant,\n    });\n\n    openParticipantMenu();\n  }, [openParticipantMenu]);\n\n  useEffect(() => {\n    if (connectionState === 'connected') {\n      playGroupCallSound({ sound: 'join' });\n    } else if (connectionState === 'reconnecting') {\n      playGroupCallSound({ sound: 'connecting' });\n    }\n  }, [connectionState, playGroupCallSound]);\n\n  const handleCloseConfirmLeaveModal = useCallback(() => {\n    closeConfirmLeaveModal();\n    setIsEndGroupCallModal(false);\n  }, [closeConfirmLeaveModal]);\n\n  const MainButton: FC<{ onTrigger: () => void; isOpen?: boolean }> = useMemo(() => {\n    return ({ onTrigger, isOpen }) => (\n      <Button\n        round\n        size=\"smaller\"\n        color=\"translucent\"\n        className={isOpen ? 'active' : undefined}\n        onClick={onTrigger}\n        ariaLabel={lang('AccDescrMoreOptions')}\n      >\n        <i className=\"icon-more\" />\n      </Button>\n    );\n  }, [lang]);\n\n  const handleToggleFullscreen = useCallback(() => {\n    if (!containerRef.current) return;\n\n    if (isFullscreen) {\n      document.exitFullscreen().then(closeFullscreen);\n    } else {\n      containerRef.current.requestFullscreen().then(openFullscreen);\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  const handleToggleSidebar = useCallback(() => {\n    if (isSidebarOpen) {\n      closeSidebar();\n    } else {\n      openSidebar();\n    }\n  }, [closeSidebar, isSidebarOpen, openSidebar]);\n\n  const handleStreamsDoubleClick = useCallback(() => {\n    if (!IS_REQUEST_FULLSCREEN_SUPPORTED) return;\n\n    if (!isFullscreen) {\n      closeSidebar();\n      handleToggleFullscreen();\n    } else {\n      handleToggleFullscreen();\n    }\n  }, [closeSidebar, handleToggleFullscreen, isFullscreen]);\n\n  const toggleFullscreen = useCallback(() => {\n    if (isFullscreen) {\n      closeFullscreen();\n    } else {\n      openFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  const handleClose = useCallback(() => {\n    toggleGroupCallPanel();\n    if (isFullscreen) {\n      closeFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, toggleGroupCallPanel]);\n\n  useEffect(() => {\n    if (!IS_REQUEST_FULLSCREEN_SUPPORTED) return undefined;\n    const container = containerRef.current;\n    if (!container) return undefined;\n\n    container.addEventListener('fullscreenchange', toggleFullscreen);\n\n    return () => {\n      container.removeEventListener('fullscreenchange', toggleFullscreen);\n    };\n  }, [toggleFullscreen]);\n\n  const handleClickVideoOrSpeaker = () => {\n    if (shouldRaiseHand) {\n      toggleSpeaker();\n    } else {\n      toggleGroupCallVideo();\n    }\n  };\n\n  useEffect(() => {\n    connectToActiveGroupCall();\n  }, [connectToActiveGroupCall, groupCallId]);\n\n  const endGroupCall = useCallback(() => {\n    setIsEndGroupCallModal(true);\n    setShouldEndGroupCall(true);\n    openConfirmLeaveModal();\n    if (isFullscreen) {\n      handleToggleFullscreen();\n    }\n  }, [handleToggleFullscreen, isFullscreen, openConfirmLeaveModal]);\n\n  const handleLeaveGroupCall = useCallback(() => {\n    if (isAdmin && !isConfirmLeaveModalOpen) {\n      openConfirmLeaveModal();\n      if (isFullscreen) {\n        handleToggleFullscreen();\n      }\n      return;\n    }\n    playGroupCallSound({ sound: 'leave' });\n    setIsLeaving(true);\n    closeConfirmLeaveModal();\n  }, [\n    closeConfirmLeaveModal, handleToggleFullscreen, isAdmin, isConfirmLeaveModalOpen, isFullscreen,\n    openConfirmLeaveModal, playGroupCallSound,\n  ]);\n\n  const handleCloseAnimationEnd = useCallback(() => {\n    if (isLeaving) {\n      leaveGroupCall({\n        shouldDiscard: shouldEndGroupCall,\n      });\n    }\n  }, [isLeaving, leaveGroupCall, shouldEndGroupCall]);\n\n  const handleToggleGroupCallPresentation = useCallback(() => {\n    toggleGroupCallPresentation();\n  }, [toggleGroupCallPresentation]);\n\n  return (\n    <Modal\n      isOpen={!isCallPanelVisible && !isLeaving}\n      onClose={toggleGroupCallPanel}\n      className={buildClassName(\n        'GroupCall',\n        (isMobile && !isLandscape) && 'single-column',\n        isLandscapeLayout && 'landscape',\n        !isSidebarOpen && 'no-sidebar',\n      )}\n      dialogRef={containerRef}\n      onCloseAnimationEnd={handleCloseAnimationEnd}\n    >\n      <div className=\"header\">\n        <h3>{title || lang('VoipGroupVoiceChat')}</h3>\n        {IS_REQUEST_FULLSCREEN_SUPPORTED && (\n          <Button\n            round\n            size=\"smaller\"\n            color=\"translucent\"\n            onClick={handleToggleFullscreen}\n            ariaLabel={lang(isFullscreen ? 'AccExitFullscreen' : 'AccSwitchToFullscreen')}\n          >\n            <i className={isFullscreen ? 'icon-smallscreen' : 'icon-fullscreen'} />\n          </Button>\n        )}\n        {isLandscapeLayout && (\n          <Button\n            round\n            size=\"smaller\"\n            color=\"translucent\"\n            onClick={handleToggleSidebar}\n          >\n            <i className=\"icon-sidebar\" />\n          </Button>\n        )}\n        {((IS_SCREENSHARE_SUPPORTED && !shouldRaiseHand) || isAdmin) && (\n          <DropdownMenu\n            positionX=\"right\"\n            trigger={MainButton}\n          >\n            {IS_SCREENSHARE_SUPPORTED && !shouldRaiseHand && (\n              <MenuItem\n                icon=\"share-screen-outlined\"\n                onClick={handleToggleGroupCallPresentation}\n              >\n                {lang(hasPresentation ? 'VoipChatStopScreenCapture' : 'VoipChatStartScreenCapture')}\n              </MenuItem>\n            )}\n            {isAdmin && (\n              <MenuItem\n                icon=\"phone-discard-outline\"\n                onClick={endGroupCall}\n                destructive\n              >\n                {lang('VoipGroupLeaveAlertEndChat')}\n              </MenuItem>\n            )}\n          </DropdownMenu>\n        )}\n        <Button\n          round\n          size=\"smaller\"\n          color=\"translucent\"\n          onClick={handleClose}\n        >\n          <i className=\"icon-close\" />\n        </Button>\n      </div>\n\n      <div className=\"scrollable custom-scroll\">\n        <GroupCallParticipantStreams onDoubleClick={handleStreamsDoubleClick} />\n\n        {(!isLandscapeLayout || isSidebarOpen)\n        && <GroupCallParticipantList openParticipantMenu={handleOpenParticipantMenu} />}\n      </div>\n\n      <GroupCallParticipantMenu\n        participant={participantMenu?.participant}\n        anchor={participantMenu?.anchor}\n        isDropdownOpen={isParticipantMenuOpen}\n        closeDropdown={closeParticipantMenu}\n      />\n\n      <div className=\"buttons\">\n        {isConnecting && <Loading />}\n\n        <div className=\"button-wrapper\">\n          <div className=\"video-buttons\">\n            {hasVideo && (IS_ANDROID || IS_IOS) && (\n              <button className=\"smaller-button\" onClick={switchCameraInput}>\n                <AnimatedIcon\n                  tgsUrl={LOCAL_TGS_URLS.CameraFlip}\n                  playSegment={CAMERA_FLIP_PLAY_SEGMENT}\n                  size={24}\n                />\n              </button>\n            )}\n            <button\n              className={buildClassName(\n                'small-button',\n                shouldRaiseHand ? 'speaker' : 'camera',\n                (hasVideo || (shouldRaiseHand && isSpeakerEnabled)) && 'active',\n              )}\n              onClick={handleClickVideoOrSpeaker}\n            >\n              <i className={shouldRaiseHand ? 'icon-speaker' : (hasVideo ? 'icon-video-stop' : 'icon-video')} />\n            </button>\n          </div>\n\n          <div className=\"button-text\">\n            {lang(shouldRaiseHand ? 'VoipSpeaker' : 'VoipCamera')}\n          </div>\n        </div>\n\n        <MicrophoneButton />\n\n        <div className=\"button-wrapper\">\n          <button className=\"small-button leave\" onClick={handleLeaveGroupCall}>\n            <i className=\"icon-phone-discard\" />\n          </button>\n\n          <div className=\"button-text\">\n            {lang('VoipGroupLeave')}\n          </div>\n        </div>\n      </div>\n\n      <Modal\n        isOpen={isConfirmLeaveModalOpen}\n        onClose={handleCloseConfirmLeaveModal}\n        className=\"error\"\n        title={lang(isEndGroupCallModal ? 'VoipGroupEndAlertTitle' : 'VoipGroupLeaveAlertTitle')}\n      >\n        <p>{lang(isEndGroupCallModal ? 'VoipGroupEndAlertText' : 'VoipGroupLeaveAlertText')}</p>\n        {!isEndGroupCallModal && (\n          <Checkbox\n            label={lang('VoipGroupEndChat')}\n            checked={shouldEndGroupCall}\n            onCheck={setShouldEndGroupCall}\n          />\n        )}\n        <div className=\"dialog-buttons\">\n          <Button isText className=\"confirm-dialog-button\" onClick={handleLeaveGroupCall}>\n            {lang(isEndGroupCallModal ? 'VoipGroupEnd' : 'VoipGroupLeave')}\n          </Button>\n          <Button isText className=\"confirm-dialog-button\" onClick={handleCloseConfirmLeaveModal}>\n            {lang('Cancel')}\n          </Button>\n        </div>\n      </Modal>\n    </Modal>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { groupCallId }): StateProps => {\n    const {\n      connectionState, title, isSpeakerDisabled, participants, participantsCount,\n    } = selectGroupCall(global, groupCallId)! || {};\n\n    return {\n      connectionState,\n      title,\n      isSpeakerEnabled: !isSpeakerDisabled,\n      participantsCount,\n      meParticipant: selectGroupCallParticipant(global, groupCallId, global.currentUserId!),\n      isCallPanelVisible: Boolean(selectTabState(global).isCallPanelVisible),\n      isAdmin: selectIsAdminInActiveGroupCall(global),\n      participants,\n    };\n  },\n)(GroupCall));\n","import type { FC } from '../../lib/teact/teact';\nimport React, { memo, useEffect } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiGroupCall, ApiUser } from '../../api/types';\n\nimport { selectActiveGroupCall, selectPhoneCallUser } from '../../global/selectors/calls';\nimport { selectTabState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport useLang from '../../hooks/useLang';\n\nimport './ActiveCallHeader.scss';\n\ntype StateProps = {\n  isCallPanelVisible?: boolean;\n  groupCall?: ApiGroupCall;\n  phoneCallUser?: ApiUser;\n};\n\nconst ActiveCallHeader: FC<StateProps> = ({\n  groupCall,\n  phoneCallUser,\n  isCallPanelVisible,\n}) => {\n  const { toggleGroupCallPanel } = getActions();\n\n  const lang = useLang();\n\n  useEffect(() => {\n    document.body.classList.toggle('has-call-header', Boolean(isCallPanelVisible));\n\n    return () => {\n      document.body.classList.toggle('has-call-header', false);\n    };\n  }, [isCallPanelVisible]);\n\n  function handleToggleGroupCallPanel() {\n    toggleGroupCallPanel();\n  }\n\n  if (!groupCall && !phoneCallUser) return undefined;\n\n  return (\n    <div\n      className={buildClassName(\n        'ActiveCallHeader',\n        isCallPanelVisible && 'open',\n      )}\n      onClick={handleToggleGroupCallPanel}\n    >\n      <span className=\"title\">{phoneCallUser?.firstName || groupCall?.title || lang('VoipGroupVoiceChat')}</span>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const tabState = selectTabState(global);\n    return {\n      groupCall: tabState.isMasterTab ? selectActiveGroupCall(global) : undefined,\n      isCallPanelVisible: tabState.isCallPanelVisible,\n      phoneCallUser: tabState.isMasterTab ? selectPhoneCallUser(global) : undefined,\n    };\n  },\n)(ActiveCallHeader));\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"eWbOLx__FZXR1sqKEJek\",\"button\":\"XKOJvKiD4DsRfJLLhnw2\",\"active\":\"qvAVe7qcyaEvRQQ1StFI\",\"button-text\":\"wnAniFJmQ7ocVtjRHNey\",\"buttonText\":\"wnAniFJmQ7ocVtjRHNey\"};","import type { FC } from '../../../lib/teact/teact';\nimport React, { memo } from '../../../lib/teact/teact';\n\nimport buildClassName from '../../../util/buildClassName';\n\nimport Button from '../../ui/Button';\n\nimport styles from './PhoneCallButton.module.scss';\n\ntype OwnProps = {\n  onClick: VoidFunction;\n  label: string;\n  icon?: string;\n  iconClassName?: string;\n  customIcon?: React.ReactNode;\n  className?: string;\n  isDisabled?: boolean;\n  isActive?: boolean;\n};\n\nconst PhoneCallButton: FC<OwnProps> = ({\n  onClick,\n  label,\n  customIcon,\n  icon,\n  iconClassName,\n  className,\n  isDisabled,\n  isActive,\n}) => {\n  return (\n    <div className={styles.root}>\n      <Button\n        round\n        className={buildClassName(className, styles.button, isActive && styles.active)}\n        onClick={onClick}\n        disabled={isDisabled}\n      >\n        {customIcon || <i className={buildClassName(iconClassName, `icon-${icon}`)} />}\n      </Button>\n      <div className={styles.buttonText}>{label}</div>\n    </div>\n  );\n};\n\nexport default memo(PhoneCallButton);\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AddQYAOZJv2f7U7qIfC3\",\"blurred\":\"anFtHj7Wvsv4M_2I2EFF\",\"single-column\":\"Oi7aFYBAbl4bYichdt52\",\"singleColumn\":\"Oi7aFYBAbl4bYichdt52\",\"header\":\"_iK8HccGNSmmo2wL7tMs\",\"close-button\":\"U66J7V5JKTCiktgwYpcC\",\"closeButton\":\"U66J7V5JKTCiktgwYpcC\",\"emojis-backdrop\":\"IekzemHkkO4bfrWHmxlv\",\"emojisBackdrop\":\"IekzemHkkO4bfrWHmxlv\",\"open\":\"hiNHKiq2owo1FvdT9a5g\",\"emojis\":\"BjOb1fDymE5GCiJ4g6YN\",\"emoji-tooltip\":\"Ci9ie86NFinrXvowDx23\",\"emojiTooltip\":\"Ci9ie86NFinrXvowDx23\",\"user-info\":\"eiM2IbZjKKAwrfNtXtAy\",\"userInfo\":\"eiM2IbZjKKAwrfNtXtAy\",\"buttons\":\"AtK8DjRToL8Uk7ZAY25p\",\"leave\":\"uI2mkCTKDcqYPu64xKOk\",\"accept\":\"PC2FeM0OEDDW0TVFGMkk\",\"accept-icon\":\"hBxp1Loj3vj4DtnculDA\",\"acceptIcon\":\"hBxp1Loj3vj4DtnculDA\",\"main-video\":\"lXMZESnc4CBKQbvV7qkL\",\"mainVideo\":\"lXMZESnc4CBKQbvV7qkL\",\"second-video\":\"cnQvI_xwAbO0EEwRcLsg\",\"secondVideo\":\"cnQvI_xwAbO0EEwRcLsg\",\"visible\":\"XaD79h6hSiEi0ypkn5OK\",\"fullscreen\":\"NlF9_Kb2le_3B712PZnO\"};","import type { FC } from '../../../lib/teact/teact';\nimport React, {\n  memo, useCallback, useEffect, useMemo, useRef,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\nimport '../../../global/actions/calls';\n\nimport type { ApiPhoneCall, ApiUser } from '../../../api/types';\nimport type { AnimationLevel } from '../../../types';\n\nimport {\n  IS_ANDROID,\n  IS_IOS,\n  IS_REQUEST_FULLSCREEN_SUPPORTED,\n} from '../../../util/environment';\nimport { LOCAL_TGS_URLS } from '../../common/helpers/animatedAssets';\nimport { selectTabState } from '../../../global/selectors';\nimport buildClassName from '../../../util/buildClassName';\nimport { selectPhoneCallUser } from '../../../global/selectors/calls';\nimport useLang from '../../../hooks/useLang';\nimport renderText from '../../common/helpers/renderText';\nimport useFlag from '../../../hooks/useFlag';\nimport { formatMediaDuration } from '../../../util/dateFormat';\nimport {\n  getStreams, IS_SCREENSHARE_SUPPORTED, switchCameraInputP2p, toggleStreamP2p,\n} from '../../../lib/secret-sauce';\nimport useInterval from '../../../hooks/useInterval';\nimport useForceUpdate from '../../../hooks/useForceUpdate';\nimport useAppLayout from '../../../hooks/useAppLayout';\n\nimport Modal from '../../ui/Modal';\nimport Avatar from '../../common/Avatar';\nimport Button from '../../ui/Button';\nimport PhoneCallButton from './PhoneCallButton';\nimport AnimatedIcon from '../../common/AnimatedIcon';\n\nimport styles from './PhoneCall.module.scss';\n\ntype StateProps = {\n  user?: ApiUser;\n  phoneCall?: ApiPhoneCall;\n  isOutgoing: boolean;\n  isCallPanelVisible?: boolean;\n  animationLevel: AnimationLevel;\n};\n\nconst PhoneCall: FC<StateProps> = ({\n  user,\n  isOutgoing,\n  phoneCall,\n  isCallPanelVisible,\n  animationLevel,\n}) => {\n  const lang = useLang();\n  const {\n    hangUp, requestMasterAndAcceptCall, playGroupCallSound, toggleGroupCallPanel, connectToActivePhoneCall,\n  } = getActions();\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const [isFullscreen, openFullscreen, closeFullscreen] = useFlag();\n  const { isMobile } = useAppLayout();\n\n  const toggleFullscreen = useCallback(() => {\n    if (isFullscreen) {\n      closeFullscreen();\n    } else {\n      openFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  const handleToggleFullscreen = useCallback(() => {\n    if (!containerRef.current) return;\n\n    if (isFullscreen) {\n      document.exitFullscreen().then(closeFullscreen);\n    } else {\n      containerRef.current.requestFullscreen().then(openFullscreen);\n    }\n  }, [closeFullscreen, isFullscreen, openFullscreen]);\n\n  useEffect(() => {\n    if (!IS_REQUEST_FULLSCREEN_SUPPORTED) return undefined;\n    const container = containerRef.current;\n    if (!container) return undefined;\n\n    container.addEventListener('fullscreenchange', toggleFullscreen);\n\n    return () => {\n      container.removeEventListener('fullscreenchange', toggleFullscreen);\n    };\n  }, [toggleFullscreen]);\n\n  const handleClose = useCallback(() => {\n    toggleGroupCallPanel();\n    if (isFullscreen) {\n      closeFullscreen();\n    }\n  }, [closeFullscreen, isFullscreen, toggleGroupCallPanel]);\n\n  const isDiscarded = phoneCall?.state === 'discarded';\n  const isBusy = phoneCall?.reason === 'busy';\n\n  const isIncomingRequested = phoneCall?.state === 'requested' && !isOutgoing;\n  const isOutgoingRequested = (phoneCall?.state === 'requested' || phoneCall?.state === 'waiting') && isOutgoing;\n  const isActive = phoneCall?.state === 'active';\n  const isConnected = phoneCall?.isConnected;\n\n  const [isHangingUp, startHangingUp, stopHangingUp] = useFlag();\n  const handleHangUp = useCallback(() => {\n    startHangingUp();\n    hangUp();\n  }, [hangUp, startHangingUp]);\n\n  useEffect(() => {\n    if (isHangingUp) {\n      playGroupCallSound({ sound: 'end' });\n    } else if (isIncomingRequested) {\n      playGroupCallSound({ sound: 'incoming' });\n    } else if (isBusy) {\n      playGroupCallSound({ sound: 'busy' });\n    } else if (isDiscarded) {\n      playGroupCallSound({ sound: 'end' });\n    } else if (isOutgoingRequested) {\n      playGroupCallSound({ sound: 'ringing' });\n    } else if (isConnected) {\n      playGroupCallSound({ sound: 'connect' });\n    }\n  }, [isBusy, isDiscarded, isIncomingRequested, isOutgoingRequested, isConnected, playGroupCallSound, isHangingUp]);\n\n  useEffect(() => {\n    if (phoneCall?.id) {\n      stopHangingUp();\n    } else {\n      connectToActivePhoneCall();\n    }\n  }, [connectToActivePhoneCall, phoneCall?.id, stopHangingUp]);\n\n  const forceUpdate = useForceUpdate();\n\n  useInterval(() => {\n    forceUpdate();\n  }, isConnected ? 1000 : undefined);\n\n  const callStatus = useMemo(() => {\n    const state = phoneCall?.state;\n    if (isHangingUp) {\n      return lang('lng_call_status_hanging');\n    }\n    if (isBusy) return 'busy';\n    if (state === 'requesting') {\n      return lang('lng_call_status_requesting');\n    } else if (state === 'requested') {\n      return isOutgoing ? lang('lng_call_status_ringing') : lang('lng_call_status_incoming');\n    } else if (state === 'waiting') {\n      return lang('lng_call_status_waiting');\n    } else if (state === 'active' && isConnected) {\n      return undefined;\n    } else {\n      return lang('lng_call_status_exchanging');\n    }\n  }, [isBusy, isConnected, isHangingUp, isOutgoing, lang, phoneCall?.state]);\n\n  const hasVideo = phoneCall?.videoState === 'active';\n  const hasPresentation = phoneCall?.screencastState === 'active';\n\n  const streams = getStreams();\n  const hasOwnAudio = streams?.ownAudio?.getTracks()[0].enabled;\n  const hasOwnPresentation = streams?.ownPresentation?.getTracks()[0].enabled;\n  const hasOwnVideo = streams?.ownVideo?.getTracks()[0].enabled;\n\n  const [isHidingPresentation, startHidingPresentation, stopHidingPresentation] = useFlag();\n  const [isHidingVideo, startHidingVideo, stopHidingVideo] = useFlag();\n\n  const handleTogglePresentation = useCallback(() => {\n    if (hasOwnPresentation) {\n      startHidingPresentation();\n    }\n    if (hasOwnVideo) {\n      startHidingVideo();\n    }\n    setTimeout(async () => {\n      await toggleStreamP2p('presentation');\n      stopHidingPresentation();\n      stopHidingVideo();\n    }, 250);\n  }, [\n    hasOwnPresentation, hasOwnVideo, startHidingPresentation, startHidingVideo, stopHidingPresentation, stopHidingVideo,\n  ]);\n\n  const handleToggleVideo = useCallback(() => {\n    if (hasOwnVideo) {\n      startHidingVideo();\n    }\n    if (hasOwnPresentation) {\n      startHidingPresentation();\n    }\n    setTimeout(async () => {\n      await toggleStreamP2p('video');\n      stopHidingPresentation();\n      stopHidingVideo();\n    }, 250);\n  }, [\n    hasOwnPresentation, hasOwnVideo, startHidingPresentation, startHidingVideo, stopHidingPresentation, stopHidingVideo,\n  ]);\n\n  const handleToggleAudio = useCallback(() => {\n    void toggleStreamP2p('audio');\n  }, []);\n\n  const [isEmojiOpen, openEmoji, closeEmoji] = useFlag();\n\n  const [isFlipping, startFlipping, stopFlipping] = useFlag();\n\n  const handleFlipCamera = useCallback(() => {\n    startFlipping();\n    switchCameraInputP2p();\n    setTimeout(stopFlipping, 250);\n  }, [startFlipping, stopFlipping]);\n\n  const timeElapsed = phoneCall?.startDate && (Number(new Date()) / 1000 - phoneCall.startDate);\n\n  useEffect(() => {\n    if (phoneCall?.state === 'discarded') {\n      setTimeout(hangUp, 250);\n    }\n  }, [hangUp, phoneCall?.reason, phoneCall?.state]);\n\n  return (\n    <Modal\n      isOpen={phoneCall && phoneCall?.state !== 'discarded' && !isCallPanelVisible}\n      onClose={handleClose}\n      className={buildClassName(\n        styles.root,\n        isMobile && styles.singleColumn,\n      )}\n      dialogRef={containerRef}\n    >\n      <Avatar\n        user={user}\n        size=\"jumbo\"\n        className={hasVideo || hasPresentation ? styles.blurred : ''}\n        withVideo\n        noLoop={phoneCall?.state !== 'requesting'}\n        animationLevel={animationLevel}\n      />\n      {phoneCall?.screencastState === 'active' && streams?.presentation\n        && <video className={styles.mainVideo} muted autoPlay playsInline srcObject={streams.presentation} />}\n      {phoneCall?.videoState === 'active' && streams?.video\n        && <video className={styles.mainVideo} muted autoPlay playsInline srcObject={streams.video} />}\n      <video\n        className={buildClassName(\n          styles.secondVideo,\n          !isHidingPresentation && hasOwnPresentation && styles.visible,\n          isFullscreen && styles.fullscreen,\n        )}\n        muted\n        autoPlay\n        playsInline\n        srcObject={streams?.ownPresentation}\n      />\n      <video\n        className={buildClassName(\n          styles.secondVideo,\n          !isHidingVideo && hasOwnVideo && styles.visible,\n          isFullscreen && styles.fullscreen,\n        )}\n        muted\n        autoPlay\n        playsInline\n        srcObject={streams?.ownVideo}\n      />\n      <div className={styles.header}>\n        {IS_REQUEST_FULLSCREEN_SUPPORTED && (\n          <Button\n            round\n            size=\"smaller\"\n            color=\"translucent\"\n            onClick={handleToggleFullscreen}\n            ariaLabel={lang(isFullscreen ? 'AccExitFullscreen' : 'AccSwitchToFullscreen')}\n          >\n            <i className={isFullscreen ? 'icon-smallscreen' : 'icon-fullscreen'} />\n          </Button>\n        )}\n\n        <Button\n          round\n          size=\"smaller\"\n          color=\"translucent\"\n          onClick={handleClose}\n          className={styles.closeButton}\n        >\n          <i className=\"icon-close\" />\n        </Button>\n      </div>\n      <div\n        className={buildClassName(styles.emojisBackdrop, isEmojiOpen && styles.open)}\n        onClick={!isEmojiOpen ? openEmoji : closeEmoji}\n      >\n        <div className={buildClassName(styles.emojis, isEmojiOpen && styles.open)}>\n          {phoneCall?.isConnected && phoneCall?.emojis && renderText(phoneCall.emojis, ['emoji'])}\n        </div>\n        <div className={buildClassName(styles.emojiTooltip, isEmojiOpen && styles.open)}>\n          {lang('CallEmojiKeyTooltip', user?.firstName).replace('%%', '%')}\n        </div>\n      </div>\n      <div className={styles.userInfo}>\n        <h1>{user?.firstName}</h1>\n        <span className={styles.status}>{callStatus || formatMediaDuration(timeElapsed || 0)}</span>\n      </div>\n      <div className={styles.buttons}>\n        <PhoneCallButton\n          onClick={handleToggleAudio}\n          icon=\"microphone\"\n          isDisabled={!isActive}\n          isActive={hasOwnAudio}\n          label={lang(hasOwnAudio ? 'lng_call_mute_audio' : 'lng_call_unmute_audio')}\n        />\n        <PhoneCallButton\n          onClick={handleToggleVideo}\n          icon=\"video\"\n          isDisabled={!isActive}\n          isActive={hasOwnVideo}\n          label={lang(hasOwnVideo ? 'lng_call_stop_video' : 'lng_call_start_video')}\n        />\n        {hasOwnVideo && (IS_ANDROID || IS_IOS) && (\n          <PhoneCallButton\n            onClick={handleFlipCamera}\n            customIcon={(\n              <AnimatedIcon\n                tgsUrl={LOCAL_TGS_URLS.CameraFlip}\n                playSegment={!isFlipping ? [0, 1] : [0, 10]}\n                size={32}\n              />\n            )}\n            isDisabled={!isActive}\n            label={lang('VoipFlip')}\n          />\n        )}\n        {IS_SCREENSHARE_SUPPORTED && (\n          <PhoneCallButton\n            onClick={handleTogglePresentation}\n            icon=\"share-screen\"\n            isDisabled={!isActive}\n            isActive={hasOwnPresentation}\n            label={lang('lng_call_screencast')}\n          />\n        )}\n        {isIncomingRequested && (\n          <PhoneCallButton\n            onClick={requestMasterAndAcceptCall}\n            icon=\"phone-discard\"\n            isDisabled={isDiscarded}\n            label={lang('lng_call_accept')}\n            className={styles.accept}\n            iconClassName={styles.acceptIcon}\n          />\n        )}\n        <PhoneCallButton\n          onClick={handleHangUp}\n          icon=\"phone-discard\"\n          isDisabled={isDiscarded}\n          label={lang(isIncomingRequested ? 'lng_call_decline' : 'lng_call_end_call')}\n          className={styles.leave}\n        />\n      </div>\n    </Modal>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const { phoneCall, currentUserId } = global;\n    const { isCallPanelVisible, isMasterTab } = selectTabState(global);\n\n    return {\n      isCallPanelVisible: Boolean(isCallPanelVisible),\n      user: selectPhoneCallUser(global),\n      isOutgoing: phoneCall?.adminId === currentUserId,\n      phoneCall: isMasterTab ? phoneCall : undefined,\n      animationLevel: global.settings.byKey.animationLevel,\n    };\n  },\n)(PhoneCall));\n","// extracted by mini-css-extract-plugin\nexport default {\"stars\":\"wLqZtZzJMOmPkr1Z7kT5\",\"star\":\"OLQPS_OeztNYIaL15tdz\",\"isFilled\":\"o_nOyYqj5URif5S86StK\",\"comment\":\"ZToDNX6q1Yhf4aDPyuJF\",\"visible\":\"HdCq8jVctaJoit7bdgZd\"};","import React, {\n  memo, useRef, useState, useCallback,\n} from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport type { FC } from '../../../lib/teact/teact';\n\nimport useLang from '../../../hooks/useLang';\nimport buildClassName from '../../../util/buildClassName';\n\nimport Modal from '../../ui/Modal';\nimport Button from '../../ui/Button';\nimport InputText from '../../ui/InputText';\n\nimport styles from './RatePhoneCallModal.module.scss';\n\nexport type OwnProps = {\n  isOpen?: boolean;\n};\n\nconst RatePhoneCallModal: FC<OwnProps> = ({\n  isOpen,\n}) => {\n  const { closeCallRatingModal, setCallRating } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const lang = useLang();\n  const [rating, setRating] = useState<number | undefined>();\n\n  const handleSend = useCallback(() => {\n    if (!rating) {\n      closeCallRatingModal();\n      return;\n    }\n    setCallRating({\n      rating: rating + 1,\n      comment: inputRef.current?.value || '',\n    });\n  }, [closeCallRatingModal, rating, setCallRating]);\n\n  function handleClickStar(index: number) {\n    return () => setRating(rating === index ? undefined : index);\n  }\n\n  const handleCancelClick = useCallback(() => {\n    closeCallRatingModal();\n  }, [closeCallRatingModal]);\n\n  return (\n    <Modal title={lang('lng_call_rate_label')} className=\"narrow\" onClose={closeCallRatingModal} isOpen={isOpen}>\n      <div className={styles.stars}>\n        {new Array(5).fill(undefined).map((_, i) => {\n          const isFilled = rating !== undefined && rating >= i;\n          return (\n            <i\n              className={buildClassName(\n                isFilled ? 'icon-favorite-filled' : 'icon-favorite',\n                isFilled && styles.isFilled,\n                styles.star,\n              )}\n              onClick={handleClickStar(i)}\n            />\n          );\n        })}\n      </div>\n      <InputText\n        ref={inputRef}\n        placeholder={lang('lng_call_rate_comment')}\n        className={buildClassName(styles.comment, rating !== 4 && rating !== undefined && styles.visible)}\n      />\n\n      <div className=\"dialog-buttons mt-2\">\n        <Button className=\"confirm-dialog-button\" isText onClick={handleSend}>\n          {lang('Send')}\n        </Button>\n        <Button className=\"confirm-dialog-button\" isText onClick={handleCancelClick}>{lang('Cancel')}</Button>\n      </div>\n    </Modal>\n  );\n};\n\nexport default memo(RatePhoneCallModal);\n","/*! For license information please see index.js.LICENSE.txt */\n(()=>{\"use strict\";var e={\"./src/blacksilence.ts\":(e,t,a)=>{a.r(t),a.d(t,{silence:()=>n,black:()=>s});const n=e=>{const t=e.createOscillator(),a=t.connect(e.createMediaStreamDestination());return t.start(),new MediaStream([Object.assign(a.stream.getAudioTracks()[0],{enabled:!1})])},s=({width:e=640,height:t=480}={})=>{const a=Object.assign(document.createElement(\"canvas\"),{width:e,height:t}),n=a.getContext(\"2d\");if(!n)throw Error(\"Cannot create canvas ctx\");n.fillRect(0,0,e,t);const s=a.captureStream();return new MediaStream([Object.assign(s.getVideoTracks()[0],{enabled:!1})])}},\"./src/buildSdp.ts\":(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(\"./src/utils.ts\");const s=(e,t=!1,a=!1,s=!1)=>{const i=[],r=e=>{i.push(e)},{sessionId:o,ssrcs:c,audioExtensions:d,videoExtensions:p,audioPayloadTypes:u,videoPayloadTypes:l,transport:{ufrag:m,pwd:f,fingerprints:g,candidates:v}}=e;r(\"v=0\"),r(`o=- ${o} 2 IN IP4 0.0.0.0`),r(\"s=-\"),r(\"t=0 0\"),r(\"a=ice-options:trickle\"),r(\"a=msid-semantic:WMS *\"),r(`a=group:BUNDLE ${c.map((e=>e.endpoint)).join(\" \")}${a?\"\":\" \"+(s?\"3\":\"2\")}`),s||r(\"a=ice-lite\");const S=e=>{if(e.sdpString)r(`a=${e.sdpString}`);else{let t=\"\";t+=\"a=candidate:\",t+=`${e.foundation} ${e.component} ${e.protocol} ${e.priority} ${e.ip} ${e.port} typ ${e.type}`,\"rel-addr\"in e&&(t+=` raddr ${e[\"rel-addr\"]} rport ${e[\"rel-port\"]}`),t+=` generation ${e.generation}`,r(t)}},y=()=>{r(`a=ice-ufrag:${m}`),r(`a=ice-pwd:${f}`),g.forEach((e=>{r(`a=fingerprint:${e.hash} ${e.fingerprint}`),r(`a=setup:${s?e.setup:\"passive\"}`)})),v.forEach(S)},h=e=>{const{channels:t,id:a,name:n,clockrate:s,parameters:i}=e;var o=t?`/${t}`:\"\";r(`a=rtpmap:${a} ${n}/${s}${o}`),i&&(o=Object.keys(i).map((e=>`${e}=${i[e]};`)).join(\" \"),r(`a=fmtp:${a} ${o}`)),e[\"rtcp-fbs\"]?.forEach((e=>{r(`a=rtcp-fb:${a} ${e.type}${e.subtype?` ${e.subtype}`:\"\"}`)}))};return e=e=>{const a=e.isVideo?l:u;var i=e.isVideo?\"video\":\"audio\";if(r(`m=${i} ${e.isMain?1:0} RTP/SAVPF ${a.map((e=>e.id)).join(\" \")}`),r(\"c=IN IP4 0.0.0.0\"),r(\"b=AS:1300\"),r(`a=mid:${e.endpoint}`),r(\"a=rtcp-mux\"),a.forEach(h),r(\"a=rtcp:1 IN IP4 0.0.0.0\"),e.isVideo&&r(\"a=rtcp-rsize\"),(e.isVideo?p:d).forEach((({id:e,uri:t})=>{r(`a=extmap:${e} ${t}`)})),e.isRemoved)r(\"a=inactive\");else{if(y(),s)r(\"a=sendrecv\"),r(\"a=bundle-only\");else{if(t)return void r(\"a=recvonly\");e.isMain?r(\"a=sendrecv\"):(r(\"a=sendonly\"),r(\"a=bundle-only\"))}e.sourceGroups.forEach((t=>{r(`a=ssrc-group:${t.semantics} ${t.sources.map(n.fromTelegramSource).join(\" \")}`),t.sources.forEach((t=>{t=(0,n.fromTelegramSource)(t),r(`a=ssrc:${t} cname:${e.endpoint}`),r(`a=ssrc:${t} msid:${e.endpoint} ${e.endpoint}`),r(`a=ssrc:${t} mslabel:${e.endpoint}`),r(`a=ssrc:${t} label:${e.endpoint}`)}))}))}},s?c.filter(e):c.filter((e=>\"0\"===e.endpoint||\"1\"===e.endpoint)).map(e),a||(r(\"m=application 1 UDP/DTLS/SCTP webrtc-datachannel\"),r(\"c=IN IP4 0.0.0.0\"),y(),r(\"a=ice-options:trickle\"),r(\"a=mid:\"+(s?\"3\":a?\"1\":\"2\")),r(\"a=sctp-port:5000\"),r(\"a=max-message-size:262144\")),s||c.filter((e=>\"0\"!==e.endpoint&&\"1\"!==e.endpoint)).map(e),`${i.join(\"\\n\")}\\n`}},\"./src/p2p.ts\":(e,t,a)=>{a.r(t),a.d(t,{getStreams:()=>function(){return o?.streams},switchCameraInputP2p:()=>async function(){if(o&&o.facingMode){const e=o.streams.ownVideo;if(e){const t=e.getTracks()[0];if(t){const e=o.connection.getSenders().find((e=>t.id===e.track?.id));if(e){o.facingMode=\"environment\"===o.facingMode?\"user\":\"environment\";try{const t=await d(\"video\",o.facingMode);await e.replaceTrack(t.getTracks()[0]),o.streams.ownVideo=t,c()}catch(e){}}}}}},toggleStreamP2p:()=>p,joinPhoneCall:()=>async function(e,t,a,i,r){const d=new RTCPeerConnection({iceServers:e.map((e=>({urls:[e.isTurn&&`turn:${e.ip}:${e.port}`,e.isStun&&`stun:${e.ip}:${e.port}`].filter(Boolean),username:e.username,credentialType:\"password\",credential:e.password}))),iceCandidatePoolSize:2}),u=(0,n.silence)(new AudioContext),l=(0,n.black)({width:640,height:480}),g=(0,n.black)({width:640,height:480});d.addTrack(u.getTracks()[0],u),d.addTrack(l.getTracks()[0],l),d.addTrack(g.getTracks()[0],g),d.onicecandidate=e=>{e.candidate&&t({\"@type\":\"Candidates\",candidates:[{sdpString:e.candidate.candidate}]})},d.onconnectionstatechange=()=>{r({\"@type\":\"updatePhoneCallConnectionState\",connectionState:d.connectionState})},d.ontrack=e=>{var t;o&&(t=e.streams[0],\"audio\"===e.track.kind?(o.audio.srcObject=t,o.audio.play().catch(),o.streams.audio=t):\"1\"===e.transceiver.mid?o.streams.video=t:o.streams.presentation=t,c())};const v=d.createDataChannel(\"data\",{id:0,negotiated:!0});v.onmessage=e=>{f(JSON.parse(e.data))},e=new Audio,o={audio:e,connection:d,emitSignalingData:t,isOutgoing:a,candidates:[],onUpdate:r,streams:{ownVideo:l,ownAudio:u,ownPresentation:g},mediaState:{isBatteryLow:!1,screencastState:\"inactive\",videoState:\"inactive\",videoRotation:0,isMuted:!0},blackVideo:l,blackPresentation:g,silence:u,dataChannel:v};try{i&&p(\"video\",!0),p(\"audio\",!0)}catch(e){}a&&(a=await d.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}),await d.setLocalDescription(a),m((0,s.default)(a,!0)))},stopPhoneCall:()=>function(){o&&(o.streams.ownVideo?.getTracks().forEach((e=>e.stop())),o.streams.ownPresentation?.getTracks().forEach((e=>e.stop())),o.streams.ownAudio?.getTracks().forEach((e=>e.stop())),o.dataChannel.close(),o.connection.close(),o=void 0)},processSignalingMessage:()=>f});var n=a(\"./src/blacksilence.ts\"),s=a(\"./src/parseSdp.ts\"),i=a(\"./src/utils.ts\"),r=a(\"./src/buildSdp.ts\");let o;function c(){o?.onUpdate({...o.mediaState,\"@type\":\"updatePhoneCallMediaState\"})}function d(e,t=\"user\"){return\"presentation\"===e?navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}):navigator.mediaDevices.getUserMedia({audio:\"audio\"===e&&{...i.IS_ECHO_CANCELLATION_SUPPORTED&&{echoCancellation:!0},...i.IS_NOISE_SUPPRESSION_SUPPORTED&&{noiseSuppression:!0}},video:\"video\"===e&&{facingMode:t}})}async function p(e,t){if(o){const a=\"audio\"===e?o.streams.ownAudio:\"video\"===e?o.streams.ownVideo:o.streams.ownPresentation;if(a){const n=a.getTracks()[0];if(n){const a=o.connection.getSenders().find((e=>n.id===e.track?.id));if(a){t=void 0===t?!n.enabled:t;try{if(t&&!n.enabled){const t=await d(e);t.getTracks()[0].onended=()=>{p(e,!1)},await a.replaceTrack(t.getTracks()[0]),\"audio\"===e?o.streams.ownAudio=t:\"video\"===e?(o.streams.ownVideo=t,o.facingMode=\"user\"):o.streams.ownPresentation=t,\"video\"!==e&&\"presentation\"!==e||p(\"video\"===e?\"presentation\":\"video\",!1)}else if(!t&&n.enabled){n.stop();const t=\"audio\"===e?o.silence:\"video\"===e?o.blackVideo:o.blackPresentation;if(!t)return;await a.replaceTrack(t.getTracks()[0]),\"audio\"===e?o.streams.ownAudio=t:\"video\"===e?o.streams.ownVideo=t:o.streams.ownPresentation=t}c(),u()}catch(e){}}}}}}function u(){if(o){const{emitSignalingData:e,streams:t}=o;e({\"@type\":\"MediaState\",videoRotation:0,isMuted:!t.ownAudio?.getTracks()[0].enabled,isBatteryLow:!0,videoState:t.ownVideo?.getTracks()[0].enabled?\"active\":\"inactive\",screencastState:t.ownPresentation?.getTracks()[0].enabled?\"active\":\"inactive\"})}}function l(e){if(!o||o.isOutgoing)return e;const t=e.payloadTypes;var a=t.findIndex((e=>\"VP8\"===e.name));const n=t[a];var s=t.findIndex((e=>Number(e.parameters?.apt)===n.id));return e.payloadTypes=[t[a],t[s]],e}function m(e){if(o){const t=o.emitSignalingData;e.ssrc&&e[\"ssrc-groups\"]&&e[\"ssrc-groups\"][0]&&e[\"ssrc-groups\"][1]&&t({\"@type\":\"InitialSetup\",fingerprints:e.fingerprints,ufrag:e.ufrag,pwd:e.pwd,audio:{ssrc:(0,i.fromTelegramSource)(e.ssrc).toString(),ssrcGroups:[],payloadTypes:e.audioPayloadTypes,rtpExtensions:e.audioExtmap},video:l({ssrc:(0,i.fromTelegramSource)(e[\"ssrc-groups\"][0].sources[0]).toString(),ssrcGroups:[{semantics:e[\"ssrc-groups\"][0].semantics,ssrcs:e[\"ssrc-groups\"][0].sources.map(i.fromTelegramSource)}],payloadTypes:e.videoPayloadTypes,rtpExtensions:e.videoExtmap}),screencast:l({ssrc:(0,i.fromTelegramSource)(e[\"ssrc-groups\"][1].sources[0]).toString(),ssrcGroups:[{semantics:e[\"ssrc-groups\"][1].semantics,ssrcs:e[\"ssrc-groups\"][1].sources.map(i.fromTelegramSource)}],payloadTypes:e.screencastPayloadTypes,rtpExtensions:e.screencastExtmap})})}}async function f(e){if(o&&o.connection)switch(e[\"@type\"]){case\"MediaState\":o.mediaState=e,c(),u();break;case\"Candidates\":var{candidates:t,gotInitialSetup:a}=o;if(!t)return;e.candidates.forEach((e=>{o.candidates.push(e.sdpString)})),a&&await Promise.all(o.candidates.map((e=>o.connection.addIceCandidate({candidate:e,sdpMLineIndex:0}))));break;case\"InitialSetup\":{const{connection:t,isOutgoing:n}=o;if(!t)return;if(a={transport:{candidates:[],ufrag:e.ufrag,pwd:e.pwd,fingerprints:e.fingerprints,\"rtcp-mux\":!1,xmlns:\"\"},sessionId:Date.now(),ssrcs:[e.audio&&{isVideo:!1,isMain:!1,userId:\"123\",endpoint:\"0\",sourceGroups:[{semantics:\"FID\",sources:[e.audio.ssrc]}]},e.video&&{isVideo:!0,isPresentation:!1,isMain:!1,userId:\"123\",endpoint:\"1\",sourceGroups:e.video.ssrcGroups.map((e=>({semantics:e.semantics,sources:e.ssrcs})))},e.screencast&&{isVideo:!0,isPresentation:!0,isMain:!1,userId:\"123\",endpoint:\"2\",sourceGroups:e.screencast.ssrcGroups.map((e=>({semantics:e.semantics,sources:e.ssrcs})))}],audioPayloadTypes:e.audio.payloadTypes?.map(i.p2pPayloadTypeToConference)||[],audioExtensions:e.audio.rtpExtensions,videoPayloadTypes:l(e.video).payloadTypes?.map(i.p2pPayloadTypeToConference)||[],videoExtensions:e.video.rtpExtensions},await t.setRemoteDescription({sdp:(0,r.default)(a,n,void 0,!0),type:n?\"answer\":\"offer\"}),o.conference=a,!n){if(a=await t.createAnswer(),!a)return;await t.setLocalDescription(a),m((0,s.default)(a,!0))}o.gotInitialSetup=!0,await Promise.all(o.candidates.map((e=>t.addIceCandidate({candidate:e,sdpMLineIndex:0}))));break}}}},\"./src/p2pMessage.ts\":(e,t,a)=>{a.r(t)},\"./src/parseSdp.ts\":(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var n=a(\"./src/utils.ts\");const s=(e,t=!1)=>{if(!e||!e.sdp)throw Error(\"Failed parsing SDP: session description is null\");const a=e.sdp.split(\"\\r\\nm=\").map(((e,t)=>0===t?e:`m=${e}`)).reduce(((e,t)=>{var a=t.match(/^m=(.+?)\\s/)?.[1]||\"header\";return e[e.hasOwnProperty(a)&&\"video\"===a?\"screencast\":a]=t.split(\"\\r\\n\").filter(Boolean),e}),{});var s=(e,t)=>t?a[t]?.find((t=>t.startsWith(e)))?.substr(e.length):Object.values(a).map((t=>t.find((t=>t.startsWith(e)))?.substr(e.length))).filter(Boolean)[0],i=e=>a[e].filter((e=>e.startsWith(\"a=extmap\"))).map((e=>{var[,t,e]=e.match(/extmap:(\\d+)(?:\\/.+)?\\s(.+)/);return{id:Number(t),uri:e}})),r=e=>{const t=a[e].filter((e=>e.startsWith(\"a=rtpmap\"))).map((e=>{const[,t,a]=e.match(/:(\\d+)\\s(.+)/)||[];var[n,s,e]=a.split(\"/\");return{id:Number(t),name:n,clockrate:Number(s),...e&&{channels:Number(e)}}})),n=a[e].filter((e=>e.startsWith(\"a=rtcp-fb\"))).map((e=>{const[,t,a]=e.match(/:(\\d+)\\s(.+)/)||[];var[n,e]=a.split(\" \");return{id:Number(t),type:n,subtype:e||\"\"}})),s=a[e].filter((e=>e.startsWith(\"a=fmtp\"))).map((e=>{const[,t,a]=e.match(/:(\\d+)\\s(.+)/)||[];if(e=a.split(\";\").reduce(((e,t)=>{var[a,t]=t.split(\"=\");return e[a]=t,e}),{}),!Object.values(e).some((e=>!e)))return{id:Number(t),data:e}})).filter(Boolean);return t.map((e=>{var t=s.filter((t=>t.id===e.id)).map((e=>e.data)).reduce(((e,t)=>Object.assign(e,t)),{}),a=n.filter((t=>t.id===e.id)).map((e=>({type:e.type,subtype:e.subtype})));return{...e,...0<Object.keys(t).length&&{parameters:t},...0<a.length&&{feedbackTypes:a}}}))};const o=s(\"a=ssrc:\",\"audio\");var c=o&&Number(o.split(\" \")[0]);const d=s(\"a=ssrc-group:\",\"video\")?.split(\" \")||void 0,p=s(\"a=ssrc-group:\",\"screencast\")?.split(\" \")||void 0;if(!d)throw Error(\"Failed parsing SDP: no video ssrc\");var[u,l]=s(\"a=fingerprint:\")?.split(\" \")||[],m=s(\"a=setup:\");if(!u||!l)throw Error(\"Failed parsing SDP: no fingerprint\");if(console.log(a),e=s(\"a=ice-ufrag:\"),s=s(\"a=ice-pwd:\"),!e||!s)throw Error(\"Failed parsing SDP: no ICE ufrag or pwd\");return{fingerprints:[{fingerprint:l,hash:u,setup:t?m:\"active\"}],pwd:s,ufrag:e,...c&&{ssrc:(0,n.toTelegramSource)(c)},...d&&{\"ssrc-groups\":[{semantics:d[0],sources:d.slice(1,d.length).map(Number).map(n.toTelegramSource)},t&&p&&{semantics:p[0],sources:p.slice(1,p.length).map(Number).map(n.toTelegramSource)}].filter(Boolean)},...t&&{audioExtmap:i(\"audio\"),videoExtmap:i(\"video\"),screencastExtmap:i(\"screencast\"),audioPayloadTypes:r(\"audio\"),videoPayloadTypes:r(\"video\"),screencastPayloadTypes:r(\"screencast\")}}}},\"./src/secretsauce.ts\":(e,t,a)=>{a.r(t),a.d(t,{getDevices:()=>async function(e,t=!0){return(await navigator.mediaDevices.enumerateDevices()).filter((a=>a.kind===`${e}${t?\"input\":\"output\"}`))},toggleSpeaker:()=>function(){o&&(o.isSpeakerDisabled=!o.isSpeakerDisabled,o?.onUpdate?.({\"@type\":\"updateGroupCallConnectionState\",connectionState:\"connected\",isSpeakerDisabled:o.isSpeakerDisabled}),o.participantFunctions&&Object.values(o.participantFunctions).forEach((e=>{e.toggleMute?.(!!o?.isSpeakerDisabled)})))},toggleNoiseSuppression:()=>function(){if(o&&o.myId&&o.streams){const a=o.streams[o.myId].audio;if(a){const n=a.getTracks()[0];var e,t;n&&(({echoCancellation:e,noiseSuppression:t}=n.getConstraints()),n.applyConstraints({echoCancellation:!e,noiseSuppression:!t}))}}},getUserStreams:()=>d,setVolume:()=>function(e,t){const a=o?.participantFunctions?.[e];a&&a.setVolume?.(t)},isStreamEnabled:()=>p,switchCameraInput:()=>async function(){if(o?.myId&&o.connection&&o.streams&&o.facingMode){const e=d(o.myId)?.video;if(e){const t=e.getTracks()[0];if(t){const e=o.connection.getSenders().find((e=>t.id===e.track?.id));if(e){o.facingMode=\"environment\"===o.facingMode?\"user\":\"environment\";try{const t=await l(\"video\",o.facingMode);await e.replaceTrack(t.getTracks()[0]),o.streams[o.myId].video=t}catch(e){}}}}}},toggleStream:()=>m,leaveGroupCall:()=>g,handleUpdateGroupCallParticipants:()=>async function(e){if(o){const{participants:n,conference:i,connection:r,myId:c}=o;if(n&&i&&r&&i.ssrcs&&i.transport&&c)if(e.find((e=>e.isSelf&&e.source!==o?.conference?.ssrcs?.find((e=>e.isMain&&!e.isVideo))?.sourceGroups[0].sources[0])))g();else{const n=[];if(e.forEach((e=>{if(e.isSelf)e.isMuted&&!e.canSelfUnmute&&(m(\"audio\",!1),m(\"video\",!1),m(\"presentation\",!1));else{var t=e.isLeft;const a=e.isMuted||e.isMutedByMe,s=!e.isVideoJoined||!e.video||t,r=!e.presentation||t;let o=!1,c=!1,d=!1;i.ssrcs.filter((t=>t.userId===e.id)).forEach((t=>{t.isVideo||(t.sourceGroups[0].sources[0]===e.source&&(c=!0),t.isRemoved=a),t.isVideo&&(t.isPresentation||(e.video&&t.endpoint===e.video.endpoint&&(o=!0),t.isRemoved=s),t.isPresentation&&(e.presentation&&t.endpoint===e.presentation.endpoint&&(d=!0),t.isRemoved=r))})),a||c||i.ssrcs.push({userId:e.id,isMain:!1,endpoint:`audio${e.source}`,isVideo:!1,sourceGroups:[{semantics:\"FID\",sources:[e.source]}]}),s||o||!e.video||(n.push(e.video.endpoint),i.ssrcs.push({userId:e.id,isMain:!1,endpoint:e.video.endpoint,isVideo:!0,sourceGroups:e.video.sourceGroups})),r||d||!e.presentation||i.ssrcs.push({isPresentation:!0,userId:e.id,isMain:!1,endpoint:e.presentation.endpoint,isVideo:!0,sourceGroups:e.presentation.sourceGroups})}})),o.updatingParticipantsQueue)o.updatingParticipantsQueue.push(i);else{o.updatingParticipantsQueue=[],e=(0,s.default)(i),await r.setRemoteDescription({type:\"offer\",sdp:e});try{var t=await r.createAnswer();if(await r.setLocalDescription(t),u(c),0<o.updatingParticipantsQueue.length)for(const e of o.updatingParticipantsQueue){await r.setRemoteDescription({type:\"offer\",sdp:(0,s.default)(e)});var a=await r.createAnswer();await r.setLocalDescription(a),u(c)}o.updatingParticipantsQueue=void 0}catch(e){console.error(e)}}}}},handleUpdateGroupCallConnection:()=>async function(e,t){if(o){var a=t?o.screenshareConference:o.conference;const i=t?o.screenshareConnection:o.connection;if(a&&i&&a.ssrcs){var n=Date.now();e={...a,transport:e.transport,sessionId:n,audioExtensions:e.audio?.[\"rtp-hdrexts\"],audioPayloadTypes:e.audio?.[\"payload-types\"],videoExtensions:e.video?.[\"rtp-hdrexts\"],videoPayloadTypes:e.video?.[\"payload-types\"]};o={...o,...t?{screenshareConference:e}:{conference:e}};try{await i.setRemoteDescription({type:\"answer\",sdp:(0,s.default)(e,!0,t)})}catch(e){console.error(e)}}}},startSharingScreen:()=>async function(){if(o)try{const e=await l(\"presentation\");return e?(e.getTracks()[0].onended=()=>{o&&o.myId&&(o.streams?.[o.myId].presentation,u(o.myId),c())},new Promise((t=>{var{connection:a,dataChannel:t}=y([e],t,!0);o={...o,screenshareConnection:a,screenshareDataChannel:t}}))):void 0}catch(e){return}},joinGroupCall:()=>function(e,t,a,n){if(o)throw Error(\"Already in call\");f(\"connecting\");var s=new MediaStream;return a.srcObject=s,a.play().catch((e=>console.warn(e))),o={onUpdate:n,participants:[],myId:e,speaking:{},silence:(0,i.silence)(t),black:(0,i.black)({width:640,height:480}),analyserInterval:setInterval(v,1e3),audioElement:a,audioContext:t,mediaStream:s},new Promise((e=>{o={...o,...y([o.silence,o.black],e)}}))}});var n=a(\"./src/parseSdp.ts\"),s=a(\"./src/buildSdp.ts\"),i=a(\"./src/blacksilence.ts\"),r=a(\"./src/utils.ts\");let o;function c(e){o&&(o.screenshareDataChannel?.close(),o.screenshareConnection?.close(),e||o.onUpdate?.({\"@type\":\"updateGroupCallLeavePresentation\"}))}function d(e){return o?.streams?.[e]}function p(e,t){const a=(t=t||o?.myId)&&d(t)?.[e];return!!a&&a.getTracks()[0]?.enabled}function u(e){o?.onUpdate?.({\"@type\":\"updateGroupCallStreams\",userId:e,hasAudioStream:p(\"audio\",e),hasVideoStream:p(\"video\",e),hasPresentationStream:p(\"presentation\",e),amplitude:o.speaking?.[e]})}function l(e,t=\"user\"){return\"presentation\"===e?navigator.mediaDevices.getDisplayMedia({audio:!1,video:!0}):navigator.mediaDevices.getUserMedia({audio:\"audio\"===e&&{...r.IS_ECHO_CANCELLATION_SUPPORTED&&{echoCancellation:!0},...r.IS_NOISE_SUPPRESSION_SUPPORTED&&{noiseSuppression:!0}},video:\"video\"===e&&{facingMode:t}})}async function m(e,t){if(o&&o.myId&&o.connection&&o.streams){const a=d(o.myId)?.[e];if(a){const n=a.getTracks()[0];if(n){const a=[...o.connection.getSenders(),...o.screenshareConnection?.getSenders()||[]].find((e=>n.id===e.track?.id));if(a){t=void 0===t?!n.enabled:t;try{if(t&&!n.enabled){const t=await l(e);if(await a.replaceTrack(t.getTracks()[0]),o.streams[o.myId][e]=t,\"video\"===e)o.facingMode=\"user\";else if(\"audio\"===e){const e=o.audioContext;if(!e)return;const a=e.createMediaStreamSource(t),n=e.createAnalyser();n.minDecibels=-100,n.maxDecibels=-30,n.smoothingTimeConstant=.05,n.fftSize=1024,a.connect(n),o={...o,participantFunctions:{...o.participantFunctions,[o.myId]:{...o.participantFunctions?.[o.myId],getCurrentAmplitude:()=>{var e=new Uint8Array(n.frequencyBinCount);return n.getByteFrequencyData(e),(0,r.getAmplitude)(e,1.5)}}}}}}else if(!t&&n.enabled){n.stop();const t=\"audio\"===e?o.silence:o.black;if(!t)return;await a.replaceTrack(t.getTracks()[0]),o.streams[o.myId][e]=t,\"video\"===e&&(o.facingMode=void 0)}u(o.myId),\"presentation\"!==e||t||c(!0)}catch(e){}}}}}}function f(e){o?.onUpdate?.({\"@type\":\"updateGroupCallConnectionState\",connectionState:e})}function g(){o&&(o.myId&&o.streams?.[o.myId]&&Object.values(o.streams[o.myId]||{}).forEach((e=>{e?.getTracks().forEach((e=>{e.stop()}))})),c(!0),o.dataChannel?.close(),o.connection?.close(),f(\"disconnected\"),o.analyserInterval&&clearInterval(o.analyserInterval),o=void 0)}function v(){o&&o.participantFunctions&&Object.keys(o.participantFunctions).forEach((e=>{const t=o.participantFunctions[Number(e)].getCurrentAmplitude;var a,n;t&&(a=t(),n=o.speaking[e]||0,((o.speaking[e]=a)>r.THRESHOLD&&n<=r.THRESHOLD||a<=r.THRESHOLD&&n>r.THRESHOLD)&&u(e))}))}function S(e){if(o&&o.audioElement&&o.audioContext&&o.mediaStream){var t=o.conference?.ssrcs?.find((t=>t.endpoint===e.track.id));if(t&&t.userId){const{userId:n,isPresentation:s}=t;var a=o.participants?.find((e=>e.id===n));const i=\"video\"===e.track.kind?s?\"presentation\":\"video\":\"audio\";if(e.track.onended=()=>{o?.streams?.[n][i],u(n)},t=e.streams[0],\"audio\"===e.track.kind){const e=o.mediaStream,s=new window.AudioContext,i=s.createMediaStreamSource(t),c=s.createGain();c.gain.value=(a?.volume||1e4)/1e4;const d=s.createGain();c.gain.value=1;const p=s.createAnalyser();p.minDecibels=-100,p.maxDecibels=-30,p.smoothingTimeConstant=.05,p.fftSize=1024,i.connect(p).connect(d).connect(c).connect(s.destination),e.addTrack(i.mediaStream.getAudioTracks()[0]);const u=new Audio;u.srcObject=t,u.muted=!0,u.remove(),o={...o,participantFunctions:{...o.participantFunctions,[n]:{...o.participantFunctions?.[n],setVolume:e=>{c.gain.value=1<e?2*e:e},toggleMute:e=>{d.gain.value=e?0:1},getCurrentAmplitude:()=>{var e=new Uint8Array(p.frequencyBinCount);return p.getByteFrequencyData(e),(0,r.getAmplitude)(e,1.5)}}}}}o={...o,streams:{...o.streams,[n]:{...o.streams?.[n],[i]:t}}},u(n)}}}function y(e,t,a=!1){const s=new RTCPeerConnection;var i=a?void 0:function(e){const t=e.createDataChannel(\"data\",{id:0});return t.onopen=()=>{},t.onmessage=e=>{JSON.parse(e.data).colibriClass},t.onerror=e=>{console.log(\"%conerror\",\"background: green; font-size: 5em\"),console.error(e)},t}(s);return e.forEach((e=>e.getTracks().forEach((t=>{s.addTrack(t,e)})))),a||(s.oniceconnectionstatechange=()=>{var e=s.iceConnectionState;\"connected\"===e||\"completed\"===e?f(\"connected\"):\"checking\"===e||\"new\"===e?f(\"connecting\"):\"disconnected\"===s.iceConnectionState&&f(\"reconnecting\")}),s.ontrack=S,s.onnegotiationneeded=async()=>{if(o){var i=o.myId;if(i){var r=await s.createOffer({offerToReceiveVideo:!0,offerToReceiveAudio:!a});if(await s.setLocalDescription(r),r.sdp){var c=(0,n.default)(r),d=a?void 0:{userId:\"\",sourceGroups:[{semantics:\"FID\",sources:[c.ssrc||0]}],isRemoved:a,isMain:!0,isVideo:!1,isPresentation:a,endpoint:a?\"1\":\"0\"},p=c[\"ssrc-groups\"]&&{isPresentation:a,userId:\"\",sourceGroups:c[\"ssrc-groups\"],isMain:!0,isVideo:!0,endpoint:a?\"0\":\"1\"};r=a?o.screenshareConference:o.conference;const s=[];a?(p&&s.push(p),d&&s.push(d)):(d&&s.push(d),p&&s.push(p)),d=e.find((e=>\"audio\"===e.getTracks()[0].kind)),p=e.find((e=>\"video\"===e.getTracks()[0].kind)),o={...o,...a?{screenshareConference:{...r,ssrcs:s}}:{conference:{...r,ssrcs:s}},streams:{...o.streams,[i]:{...o.streams?.[i],...d&&{audio:d},...!a&&p?{video:p}:{presentation:p}}}},u(i),t(c)}}}},{connection:s,dataChannel:i}}},\"./src/types.ts\":(e,t,a)=>{a.r(t)},\"./src/utils.ts\":(e,t,a)=>{a.r(t),a.d(t,{toTelegramSource:()=>function(e){return e<<0},fromTelegramSource:()=>function(e){return e>>>0},getAmplitude:()=>function(e,t=3){if(!e)return 0;var a=e.length;let n=0;for(let t=0;t<a;t++)n+=e[t]*e[t];var s=Math.sqrt(n/a)/255;return Math.min(1,s*t)},p2pPayloadTypeToConference:()=>function(e){return{id:e.id,name:e.name,\"rtcp-fbs\":e.feedbackTypes,clockrate:e.clockrate,parameters:e.parameters,channels:e.channels}},THRESHOLD:()=>n,IS_SCREENSHARE_SUPPORTED:()=>s,IS_ECHO_CANCELLATION_SUPPORTED:()=>i,IS_NOISE_SUPPRESSION_SUPPORTED:()=>r});const n=.1,s=\"getDisplayMedia\"in(navigator?.mediaDevices||{}),i=navigator?.mediaDevices?.getSupportedConstraints().echoCancellation,r=navigator?.mediaDevices?.getSupportedConstraints().noiseSuppression}},t={};function a(n){var s=t[n];return void 0!==s||(s=t[n]={exports:{}},e[n](s,s.exports,a)),s.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})};var n={};(()=>{a.r(n),a.d(n,{handleUpdateGroupCallConnection:()=>e.handleUpdateGroupCallConnection,startSharingScreen:()=>e.startSharingScreen,joinGroupCall:()=>e.joinGroupCall,getDevices:()=>e.getDevices,getUserStreams:()=>e.getUserStreams,setVolume:()=>e.setVolume,isStreamEnabled:()=>e.isStreamEnabled,toggleStream:()=>e.toggleStream,leaveGroupCall:()=>e.leaveGroupCall,handleUpdateGroupCallParticipants:()=>e.handleUpdateGroupCallParticipants,switchCameraInput:()=>e.switchCameraInput,toggleSpeaker:()=>e.toggleSpeaker,toggleNoiseSuppression:()=>e.toggleNoiseSuppression,joinPhoneCall:()=>t.joinPhoneCall,processSignalingMessage:()=>t.processSignalingMessage,getStreams:()=>t.getStreams,toggleStreamP2p:()=>t.toggleStreamP2p,stopPhoneCall:()=>t.stopPhoneCall,switchCameraInputP2p:()=>t.switchCameraInputP2p,IS_SCREENSHARE_SUPPORTED:()=>s.IS_SCREENSHARE_SUPPORTED,THRESHOLD:()=>s.THRESHOLD});var e=a(\"./src/secretsauce.ts\"),t=a(\"./src/p2p.ts\"),s=(a(\"./src/p2pMessage.ts\"),a(\"./src/utils.ts\"));a(\"./src/types.ts\")})();var s,i=exports;for(s in n)i[s]=n[s];n.__esModule&&Object.defineProperty(i,\"__esModule\",{value:!0})})();"],"names":["addActionHandler","async","global","actions","payload","isFromLibrary","shouldDiscard","shouldRemove","rejoin","tabId","getCurrentTabId","groupCall","selectActiveGroupCall","updateActiveGroupCall","connectionState","participantsCount","setGlobal","callApi","call","getGlobal","removeGroupCall","id","removeGroupCallAudioElement","groupCalls","activeGroupCallId","undefined","toggleGroupCallPanel","force","leaveGroupCall","afterHangUp","requestMasterAndJoinGroupCall","user","selectUser","currentUserId","toggleStream","videoStopped","isStreamEnabled","participant","value","raiseHand","participantId","volume","setVolume","Math","floor","GROUP_CALL_VOLUME_MULTIPLIER","Number","muted","params","startSharingScreen","presentationPaused","showNotification","message","audioElement","getGroupCallAudioElement","audioContext","getGroupCallAudioContext","joinGroupCall","apiUpdate","result","inviteHash","loadMoreGroupCallParticipants","chatId","chat","selectChat","loadFullChat","phoneCall","selectPhoneCallUser","dhConfig","gAHash","isVideo","addUsers","buildCollectionByKey","users","hangUp","gB","data","JSON","stringify","encodedData","updateTabState","ratingPhoneCall","rating","comment","selectTabState","state","stopPhoneCall","setTimeout","EMOJI_DATA","Uint16Array","EMOJI_OFFSETS","update","toggleGroupCallPresentation","userId","selectGroupCallParticipant","updateGroupCallParticipant","omit","updateGroupCall","isSpeakerDisabled","groupCallId","participants","handleUpdateGroupCallParticipants","stream","handleUpdateGroupCallConnection","presentation","Object","keys","length","values","ARE_CALLS_SUPPORTED","isOutgoing","adminId","isBusy","accessHash","connections","protocol","libraryVersions","some","version","langProvider","firstName","needRating","isCallPanelVisible","gA","keyFingerprint","emojis","newCall","gAOrB","joinPhoneCall","sendSignalingData","Boolean","isConnected","then","processSignalingMessage","vibrateShort","navigator","vibrate","memo","withGlobal","meParticipant","raiseHandRating","hasAudioStream","canSelfUnmute","isMuted","hasRequestedToSpeak","noAudioStream","toggleGroupCallMute","requestToSpeak","playGroupCallSound","getActions","lang","useLang","muteMouseDownState","useRef","isRequestingToSpeak","setIsRequestingToSpeak","useState","isConnecting","shouldRaiseHand","prevShouldRaiseHand","usePrevious","useEffect","sound","playSegment","useMemo","r","random","animatedIconName","toggleMute","buttonText","className","buildClassName","onMouseDown","current","onMouseUp","AnimatedIcon","tgsUrl","LOCAL_TGS_URLS","size","SPEAKER_ICON_DISABLED_SEGMENT","SPEAKER_ICON_ENABLED_SEGMENT","isAdmin","selectIsAdminInActiveGroupCall","closeDropdown","isDropdownOpen","anchor","setGroupCallParticipantVolume","openChat","isDeleteUserModalOpen","openDeleteUserModal","closeDeleteUserModal","useFlag","isMutedByMe","isSelf","isRaiseHand","localVolume","setLocalVolume","GROUP_CALL_DEFAULT_VOLUME","runThrottled","fn","deps","ms","noFirst","fnMemo","useCallback","cb","throttle","useThrottledCallback","handleRemove","e","stopPropagation","handleCancelRequestToSpeak","handleMute","handleOpenProfile","speakerIconPlaySegment","Menu","isOpen","positionX","autoClose","style","buildStyle","y","onClose","type","min","max","onChange","target","MenuItem","icon","onClick","destructive","DeleteMemberModal","noColor","isSpeaking","amplitude","THRESHOLD","prevIsRaiseHand","prevIsMuted","microphoneColor","color","isUser","openParticipantMenu","anchorRef","aboutText","aboutColor","toString","replace","about","name","lastName","title","ref","Avatar","createGroupCallInviteLink","participantsIds","handleLoadMoreGroupCallParticipants","viewportIds","getMore","useInfiniteScroll","InfiniteScroll","items","onLoadMore","map","key","isActive","isFullscreen","handleClick","streams","getUserStreams","GROUP_CALL_THUMB_VIDEO_DISABLED","autoPlay","playsInline","srcObject","onDoubleClick","selectedVideo","setSelectedVideo","presentationParticipants","filter","hasPresentationStream","videoParticipants","hasVideoStream","totalVideoCount","columnCount","shouldSpanLastVideo","handleClickVideo","CAMERA_FLIP_PLAY_SEGMENT","selectGroupCall","isSpeakerEnabled","toggleGroupCallVideo","connectToActiveGroupCall","containerRef","isMobile","isLandscape","useAppLayout","isLeaving","setIsLeaving","openFullscreen","closeFullscreen","isSidebarOpen","openSidebar","closeSidebar","hasVideoParticipants","video","isLandscapeLayout","participantMenu","setParticipantMenu","isParticipantMenuOpen","closeParticipantMenu","isConfirmLeaveModalOpen","openConfirmLeaveModal","closeConfirmLeaveModal","isEndGroupCallModal","setIsEndGroupCallModal","shouldEndGroupCall","setShouldEndGroupCall","hasVideo","hasPresentation","handleOpenParticipantMenu","rect","getBoundingClientRect","container","x","left","top","offsetTop","handleCloseConfirmLeaveModal","MainButton","onTrigger","Button","round","ariaLabel","handleToggleFullscreen","document","exitFullscreen","requestFullscreen","handleToggleSidebar","handleStreamsDoubleClick","IS_REQUEST_FULLSCREEN_SUPPORTED","toggleFullscreen","handleClose","addEventListener","removeEventListener","endGroupCall","handleLeaveGroupCall","handleCloseAnimationEnd","handleToggleGroupCallPresentation","Modal","dialogRef","onCloseAnimationEnd","IS_SCREENSHARE_SUPPORTED","DropdownMenu","trigger","Loading","IS_ANDROID","IS_IOS","switchCameraInput","toggleSpeaker","Checkbox","label","checked","onCheck","isText","tabState","isMasterTab","phoneCallUser","body","classList","toggle","customIcon","iconClassName","isDisabled","disabled","animationLevel","settings","byKey","requestMasterAndAcceptCall","connectToActivePhoneCall","isDiscarded","reason","isIncomingRequested","isOutgoingRequested","isHangingUp","startHangingUp","stopHangingUp","handleHangUp","forceUpdate","useForceUpdate","useInterval","callStatus","videoState","screencastState","getStreams","hasOwnAudio","ownAudio","getTracks","enabled","hasOwnPresentation","ownPresentation","hasOwnVideo","ownVideo","isHidingPresentation","startHidingPresentation","stopHidingPresentation","isHidingVideo","startHidingVideo","stopHidingVideo","handleTogglePresentation","toggleStreamP2p","handleToggleVideo","handleToggleAudio","isEmojiOpen","openEmoji","closeEmoji","isFlipping","startFlipping","stopFlipping","handleFlipCamera","switchCameraInputP2p","timeElapsed","startDate","Date","styles","withVideo","noLoop","renderText","formatMediaDuration","closeCallRatingModal","setCallRating","inputRef","setRating","handleSend","handleCancelClick","Array","fill","_","i","isFilled","index","InputText","placeholder","t","a","d","silence","n","black","s","createOscillator","connect","createMediaStreamDestination","start","MediaStream","assign","getAudioTracks","width","height","createElement","getContext","Error","fillRect","captureStream","getVideoTracks","default","push","sessionId","o","ssrcs","c","audioExtensions","videoExtensions","p","audioPayloadTypes","u","videoPayloadTypes","l","transport","ufrag","m","pwd","f","fingerprints","g","candidates","v","endpoint","join","S","sdpString","foundation","component","priority","ip","port","generation","forEach","hash","fingerprint","setup","h","channels","clockrate","parameters","subtype","isMain","uri","isRemoved","sourceGroups","semantics","sources","fromTelegramSource","facingMode","connection","getSenders","find","track","replaceTrack","RTCPeerConnection","iceServers","urls","isTurn","isStun","username","credentialType","credential","password","iceCandidatePoolSize","AudioContext","addTrack","onicecandidate","candidate","onconnectionstatechange","ontrack","kind","audio","play","catch","transceiver","mid","createDataChannel","negotiated","onmessage","parse","Audio","emitSignalingData","onUpdate","mediaState","isBatteryLow","videoRotation","blackVideo","blackPresentation","dataChannel","createOffer","offerToReceiveAudio","offerToReceiveVideo","setLocalDescription","stop","close","mediaDevices","getDisplayMedia","getUserMedia","IS_ECHO_CANCELLATION_SUPPORTED","echoCancellation","IS_NOISE_SUPPRESSION_SUPPORTED","noiseSuppression","onended","payloadTypes","findIndex","apt","ssrc","ssrcGroups","rtpExtensions","audioExtmap","videoExtmap","screencast","screencastPayloadTypes","screencastExtmap","gotInitialSetup","Promise","all","addIceCandidate","sdpMLineIndex","xmlns","now","isPresentation","p2pPayloadTypeToConference","setRemoteDescription","sdp","conference","createAnswer","split","reduce","match","hasOwnProperty","startsWith","substr","feedbackTypes","console","log","toTelegramSource","slice","getDevices","enumerateDevices","participantFunctions","toggleNoiseSuppression","myId","getConstraints","applyConstraints","source","isLeft","isVideoJoined","updatingParticipantsQueue","error","screenshareConference","screenshareConnection","screenshareDataChannel","warn","speaking","analyserInterval","setInterval","mediaStream","createMediaStreamSource","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","fftSize","getCurrentAmplitude","Uint8Array","frequencyBinCount","getByteFrequencyData","getAmplitude","clearInterval","window","createGain","gain","destination","remove","onopen","colibriClass","onerror","oniceconnectionstatechange","iceConnectionState","onnegotiationneeded","sqrt","getSupportedConstraints","exports","defineProperty","enumerable","get","prototype","Symbol","toStringTag","__esModule"],"sourceRoot":""}